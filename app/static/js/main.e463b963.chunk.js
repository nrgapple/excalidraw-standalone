(this.webpackJsonpexcalidraw=this.webpackJsonpexcalidraw||[]).push([[0],Array(21).concat([function(e,t,n){},,,function(e,t,n){e.exports=n(49)},,,,,,function(e){e.exports=JSON.parse('{"labels":{"paste":"Paste","selectAll":"Select All","copy":"Copy","bringForward":"Bring Forward","sendToBack":"Send To Back","bringToFront":"Bring To Front","sendBackward":"Send Backward","delete":"Delete","copyStyles":"Copy Styles","pasteStyles":"Paste Styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke Width","sloppiness":"Sloppiness","opacity":"Opacity","fontSize":"Font Size","fontFamily":"Font Family","onlySelected":"Only selected","withBackground":"With Background","handDrawn":"Hand-Drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very Large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-Hatch","thin":"Thin","bold":"Bold","extraBold":"Extra Bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing Canvas","layers":"Layers"},"buttons":{"clearReset":"Clear the canvas & reset background color","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","save":"Save","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select Language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content."},"toolBar":{"selection":"Selection","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","linearElementMulti":"Press Escape or Enter to finish","resize":"You can constraint proportions by holding SHIFT while resizing"}}')},function(e){e.exports=JSON.parse('{"alerts":{"cannotExportEmptyCanvas":"Leere Zeichenfl\xe4che kann nicht exportiert werden.","clearReset":"Dies wird die ganze Zeichenfl\xe4che l\xf6schen. Bist du dir sicher?","couldNotCopyToClipboard":"Konnte nicht in die Zwischenablage kopieren. Versuch es mit dem Chrome Browser.","couldNotCreateShareableLink":"Konnte keinen teilbaren Link erstellen.","importBackendFailed":"Import vom Server ist fehlgeschlagen."},"buttons":{"clearReset":"Zeichenfl\xe4che l\xf6schen & Hintergrundfarbe zur\xfccksetzen","copyToClipboard":"In die Zwischenablage kopieren","export":"Export","exportToPng":"Als PNG exportieren","exportToSvg":"Als SVG exportieren","getShareableLink":"Teilbaren Link erhalten","load":"Laden","save":"Speichern"},"labels":{"architect":"Architekt","artist":"K\xfcnstler","background":"Hintergrund","bold":"Fett","bringForward":"Nach vorne","bringToFront":"In den Vordergrund","cartoonist":"Karikaturist","code":"Code","copy":"Kopieren","copyStyles":"Stile kopieren","crossHatch":"Kreuzschraffiert","delete":"L\xf6schen","extraBold":"Extra Fett","fill":"F\xfcllung","fontFamily":"Schriftart","fontSize":"Schriftgr\xf6\xdfe","hachure":"Schraffiert","handDrawn":"Handschrift","large":"Gro\xdf","medium":"Mittel","normal":"Normal","onlySelected":"Nur ausgew\xe4hlte","opacity":"Sichtbarkeit","paste":"Einf\xfcgen","pasteStyles":"Stile einf\xfcgen","selectAll":"Alle ausw\xe4hlen","sendBackward":"Nach hinten","sendToBack":"In den Hintergrund","sloppiness":"Sauberkeit","small":"Klein","solid":"Solide","stroke":"Strich","strokeWidth":"Strichst\xe4rke","thin":"D\xfcnn","veryLarge":"Sehr Gro\xdf","withBackground":"Mit Hintergrund"},"toolBar":{"arrow":"Pfeil","diamond":"Raute","ellipse":"Ellipse","line":"Linie","rectangle":"Rechteck","selection":"Auswahl","text":"Text"}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Pegar","selectAll":"Seleccionar todo","copy":"Copiar","bringForward":"Adelantar","sendToBack":"Send To Back","bringToFront":"Traer al frente","sendBackward":"Enviar \xe1tras","delete":"Borrar","copyStyles":"Copiar estilos","pasteStyles":"Pegar estilos","stroke":"Trazo","background":"Fondo","fill":"Rellenar","strokeWidth":"Ancho de trazo","sloppiness":"Estilo de trazo","opacity":"Opacidad","fontSize":"Tama\xf1o de letra","fontFamily":"Tipo de letra","onlySelected":"S\xf3lo seleccionados","withBackground":"Con fondo","handDrawn":"Dibujo a Mano","normal":"Normal","code":"C\xf3digo","small":"Peque\xf1a","medium":"Mediana","large":"Grande","veryLarge":"Muy Grande","solid":"S\xf3lido","hachure":"Folleto","crossHatch":"Rayado transversal","thin":"Fino","bold":"Grueso","extraBold":"Extra Grueso","architect":"Arquitecto","artist":"Artista","cartoonist":"Caricatura","fileTitle":"T\xedtulo del archivo","colorPicker":"Selector de color","canvasBackground":"Fondo del lienzo","drawingCanvas":"Lienzo de dibujo"},"buttons":{"clearReset":"Limpiar lienzo y reiniciar el color de fondo","export":"Exportar","exportToPng":"Exportar a PNG","exportToSvg":"Exportar a SVG","copyToClipboard":"Copiar al portapapeles","save":"Guardar","load":"Cargar","getShareableLink":"Obtener enlace para compartir","showExportDialog":"Mostrar di\xe1logo para exportar","close":"Cerrar","selectLanguage":"Seleccionar idioma"},"alerts":{"clearReset":"Esto limpiar\xe1 todo el lienzo. Est\xe1s seguro?","couldNotCreateShareableLink":"No se pudo crear un enlace para compartir.","importBackendFailed":"La importaci\xf3n fall\xf3.","cannotExportEmptyCanvas":"No se puede exportar un lienzo vaci\xf3","couldNotCopyToClipboard":"No se ha podido copiar al portapapeles, intente usar Chrome como navegador."},"toolBar":{"selection":"Selecci\xf3n","rectangle":"Rect\xe1ngulo","diamond":"Diamante","ellipse":"Elipse","arrow":"Flecha","line":"L\xednea","text":"Texto","lock":"Mantener la herramienta seleccionada activa despu\xe9s de dibujar"},"headings":{"canvasActions":"Acciones del lienzo","selectedShapeActions":"Acciones de la forma seleccionada","shapes":"Formas"}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Coller","selectAll":"Tout s\xe9lectionner","copy":"Copier","bringForward":"Mettre en avant","sendToBack":"Mettre en arri\xe8re-plan","bringToFront":"Mettre au premier plan","sendBackward":"Mettre en arri\xe8re","delete":"Supprimer","copyStyles":"Copier les styles","pasteStyles":"Coller les styles","stroke":"Contour","background":"Arri\xe8re-plan","fill":"Remplissage","strokeWidth":"\xc9paisseur contour","sloppiness":"Laisser-aller","opacity":"Opacit\xe9","fontSize":"Taille police","fontFamily":"Police","onlySelected":"Uniquement la s\xe9lection","withBackground":"Avec arri\xe8re-plan","handDrawn":"Manuscrite","normal":"Normale","code":"Code","small":"Petit","medium":"Moyen","large":"Large","veryLarge":"Tr\xe8s Large","solid":"Solide","hachure":"Hachure","crossHatch":"Hachure crois\xe9e","thin":"Fin","bold":"\xc9pais","extraBold":"Tr\xe8s \xe9pais","architect":"Architecte","artist":"Artiste","cartoonist":"Cartooniste"},"buttons":{"clearReset":"Effacer le canvas & r\xe9initialiser la couleur d\'arri\xe8re-plan","export":"Exporter","exportToPng":"Exporter en PNG","exportToSvg":"Exporter en SVG","copyToClipboard":"Copier dans le presse-papier","save":"Sauvegarder","load":"Ouvrir","getShareableLink":"Obtenir un lien de partage","scrollBackToContent":"Revenir au contenu"},"alerts":{"clearReset":"L\'int\xe9gralit\xe9 du canvas va \xeatre effac\xe9. \xcates-vous sur ?","couldNotCreateShareableLink":"Impossible de cr\xe9er un lien de partage.","importBackendFailed":"L\'import depuis le backend a \xe9chou\xe9.","cannotExportEmptyCanvas":"Impossible d\'exporter un canvas vide.","couldNotCopyToClipboard":"Impossible de copier dans le presse-papier. Essayez d\'utiliser le navigateur Chrome."},"toolBar":{"selection":"S\xe9lection","rectangle":"Rectangle","diamond":"Losange","ellipse":"Ellipse","arrow":"Fl\xe8che","line":"Ligne","text":"Texte"}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Lim inn","selectAll":"Velg alt","copy":"Kopier","bringForward":"Flytt framover","sendToBack":"Flytt bakover","bringToFront":"Flytt forrest","sendBackward":"Flytt bakerst","delete":"Slett","copyStyles":"Kopier stil","pasteStyles":"Lim inn stil","stroke":"Strek","background":"Bakgrunn","fill":"Fyll","strokeWidth":"Strektykkelse","sloppiness":"Ujevnhet","opacity":"Synlighet","fontSize":"Skriftst\xf8rrelse","fontFamily":"Skrifttype","onlySelected":"Kun valgte","withBackground":"Inkluder bakgrunn","handDrawn":"H\xe5ndtegnet","normal":"Normal","code":"Kode","small":"Liten","medium":"Medium","large":"Stor","veryLarge":"Veldig stor","solid":"Helfarge","hachure":"Skravert","crossHatch":"Kryss-skravert","thin":"Tynn","bold":"Tykk","extraBold":"Ekstra tykk","architect":"Arkitekt","artist":"Kunstner","cartoonist":"Tegner","fileTitle":"Filnavn","colorPicker":"Fargevelger","canvasBackground":"Lerretsbakgrunn","drawingCanvas":"Lerret","layers":"Lag"},"buttons":{"clearReset":"T\xf8m lerretet og tilbakestill bakgrunnsfargen","export":"Eksporter","exportToPng":"Eksporter til PNG","exportToSvg":"Eksporter til SVG","copyToClipboard":"Kopier til utklippstavle","save":"Lagre","load":"\xc5pne","getShareableLink":"F\xe5 delingslenke","close":"Lukk","selectLanguage":"Velg spr\xe5k","scrollBackToContent":"Skroll tilbake til innhold"},"alerts":{"clearReset":"Dette vil t\xf8mme lerretet. Er du sikker?","couldNotCreateShareableLink":"Kunne ikke lage delbar lenke.","importBackendFailed":"Importering av backend feilet.","cannotExportEmptyCanvas":"Kan ikke eksportere et tomt lerret.","couldNotCopyToClipboard":"Kunne ikke kopiere til utklippstavlen. Pr\xf8v med nettleseren Chrome.","uploadedSecurly":"Opplastingen er kryptert og kan ikke leses av Excalidraw-serveren eller tredjeparter."},"toolBar":{"selection":"Velg","rectangle":"Rektangel","diamond":"Diamant","ellipse":"Ellipse","arrow":"Pil","line":"Linje","text":"Tekst","lock":"Behold merket verkt\xf8y som aktivt"},"headings":{"canvasActions":"Handlinger: lerret","selectedShapeActions":"Handlinger: valgt objekt","shapes":"Former"},"hints":{"linearElement":"Klikk for \xe5 starte linje med flere punkter, eller dra for en enkel linje","linearElementMulti":"Trykk Escape eller Enter for \xe5 fullf\xf8re","resize":"Du kan l\xe5se proporsjonene ved \xe5 holde nede Shift mens du endrer st\xf8rrelsen"}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Wklej","selectAll":"Wybierz wszystkie","copy":"Kopiuj","bringForward":"Przenie\u015b do g\xf3ry","sendToBack":"Przenie\u015b na d\xf3\u0142","bringToFront":"Przenie\u015b na wierzch","sendBackward":"Przenie\u015b na sp\xf3d","delete":"Usu\u0144","copyStyles":"Kopiuj styl","pasteStyles":"U\u017cyj skopiowanego stylu","stroke":"Kolor obramowania","background":"Kolor wype\u0142nienia","fill":"Wype\u0142nienie","strokeWidth":"Grubo\u015b\u0107 obramowania","sloppiness":"Styl kreski","opacity":"Prze\u017aroczysto\u015b\u0107","fontSize":"Wielko\u015b\u0107 fontu","fontFamily":"Rodzaj fontu","onlySelected":"Tylko wybrane","withBackground":"Z t\u0142em dokumentu","handDrawn":"Odr\u0119czny","normal":"Normalny","code":"Kod","small":"Ma\u0142y","medium":"\u015aredni","large":"Du\u017cy","veryLarge":"Bardzo du\u017cy","solid":"Pe\u0142ne","hachure":"Linie","crossHatch":"Zakre\u015blenie","thin":"Cienkie","bold":"Grube","extraBold":"Bardzo grube","architect":"Dok\u0142adny","artist":"Artystyczny","cartoonist":"Rysunkowy","fileTitle":"Nazwa pliku","colorPicker":"Paleta kolor\xf3w","canvasBackground":"Kolor dokumentu","drawingCanvas":"Obszar roboczy","layers":"Warstwy"},"buttons":{"clearReset":"Wyczy\u015b\u0107 dokument i zresetuj kolor dokumentu","export":"Zapisz jako","exportToPng":"Zapisz jako PNG","exportToSvg":"Zapisz jako SVG","copyToClipboard":"Skopiuj do schowka","save":"Zapisz","load":"Otw\xf3rz","getShareableLink":"Udost\u0119pnij","close":"Zamknij","selectLanguage":"Wybierz j\u0119zyk","scrollBackToContent":"Wr\xf3\u0107 do obszaru roboczego","zoomIn":"Powi\u0119ksz","zoomOut":"Pomniejsz"},"alerts":{"clearReset":"To spowoduje usuni\u0119cie wszystkiego z dokumentu. Czy chcesz kontynuowa\u0107?","couldNotCreateShareableLink":"Wyst\u0105pi\u0142 b\u0142\u0105d przy generowaniu linka do udost\u0119pniania.","importBackendFailed":"Wyst\u0105pi\u0142 b\u0142\u0105d podczas importowania pliku.","cannotExportEmptyCanvas":"Najpierw musisz co\u015b narysowa\u0107, aby zapisa\u0107 dokument.","couldNotCopyToClipboard":"B\u0142\u0105d podczas kopiowania. Spr\xf3buj u\u017cy\u0107 Google Chrome."},"toolBar":{"selection":"Zaznaczenie","rectangle":"Prostok\u0105t","diamond":"Romb","ellipse":"Elipsa","arrow":"Strza\u0142ka","line":"Linia","text":"Tekst","lock":"Zablokuj wybrane narz\u0119dzie"},"headings":{"canvasActions":"Narz\u0119dzia","selectedShapeActions":"Wybrane narz\u0119dzie","shapes":"Kszta\u0142ty"},"hints":{"linearElement":"Naci\u015bnij, aby zrobi\u0107 punkt, przeci\u0105gnij, aby narysowa\u0107 lini\u0119","linearElementMulti":"Naci\u015bnij Escape albo Enter, aby zako\u0144czy\u0107","resize":"Mo\u017cesz zachowa\u0107 proporcj\u0119 trzymaj\u0105c wci\u015bni\u0119ty SHIFT"}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"Colar","selectAll":"Selecionar tudo","copy":"Copiar","bringForward":"Passar para o primeiro plano","sendToBack":"Passar para tr\xe1s","bringToFront":"Passar para frente","sendBackward":"Passar para o plano de fundo","delete":"Apagar","copyStyles":"Copiar os estilos","pasteStyles":"Colar os estilos","stroke":"Contornos","background":"Fundo","fill":"Preenchimento","strokeWidth":"Espessura dos contornos","sloppiness":"Desleixo","opacity":"Opacidade","fontSize":"Tamanho da fonte","fontFamily":"Fonte","onlySelected":"Somente a sele\xe7\xe3o","withBackground":"Com fundo","handDrawn":"Manuscrito","normal":"Normal","code":"C\xf3digo","small":"Pequeno","medium":"M\xe9dio","large":"Grande","veryLarge":"Muito Grande","solid":"S\xf3lido","hachure":"Eclos\xe3o","crossHatch":"Eclos\xe3o cruzada","thin":"Fino","bold":"Espesso","extraBold":"Muito espesso","architect":"Arquitecto","artist":"Artista","cartoonist":"Caricaturista"},"buttons":{"clearReset":"Limpar o canvas e redefinir a cor de fundo","export":"Exportar","exportToPng":"Exportar em PNG","exportToSvg":"Exportar em SVG","copyToClipboard":"Copiar para o clipboard","save":"Guardar","load":"Carregar","getShareableLink":"Obter um link de partilha","scrollBackToContent":"Voltar ao conte\xfado"},"alerts":{"clearReset":"O canvas inteiro ser\xe1 exclu\xeddo. Tens a certeza?","couldNotCreateShareableLink":"N\xe3o foi poss\xedvel criar um link de partilha.","importBackendFailed":"O carregamento no servidor falhou.","cannotExportEmptyCanvas":"N\xe3o \xe9 poss\xedvel exportar um canvas vaz\xedo.","couldNotCopyToClipboard":"N\xe3o foi poss\xedvel copiar no clipboard. Experimente no navegador Chrome."},"toolBar":{"selection":"Sele\xe7\xe3o","rectangle":"Ret\xe2ngulo","diamond":"Losango","ellipse":"Elipse","arrow":"Flecha","line":"Linha","text":"Texto"}}')},function(e){e.exports=JSON.parse('{"labels":{"paste":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c","selectAll":"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0451","copy":"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c","bringForward":"\u041f\u0435\u0440\u0435\u043b\u043e\u0436\u0438\u0442\u044c \u0432\u043f\u0435\u0440\u0451\u0434","sendToBack":"\u041d\u0430 \u0437\u0430\u0434\u043d\u0438\u0439 \u043f\u043b\u0430\u043d","bringToFront":"\u041d\u0430 \u043f\u0435\u0440\u0435\u0434\u043d\u0438\u0439 \u043f\u043b\u0430\u043d","sendBackward":"\u041f\u0435\u0440\u0435\u043b\u043e\u0436\u0438\u0442\u044c \u043d\u0430\u0437\u0430\u0434","delete":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","copyStyles":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0438\u043b\u0438","pasteStyles":"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0438\u043b\u0438","stroke":"\u041e\u0431\u0432\u043e\u0434\u043a\u0430","background":"\u0424\u043e\u043d","fill":"\u0417\u0430\u043b\u0438\u0432\u043a\u0430","strokeWidth":"\u0422\u043e\u043b\u0449\u0438\u043d\u0430 \u043e\u0431\u0432\u043e\u0434\u043a\u0438","sloppiness":"\u0421\u0442\u0438\u043b\u044c \u043e\u0431\u0432\u043e\u0434\u043a\u0438","opacity":"\u041d\u0435\u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c","fontSize":"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430","fontFamily":"\u0421\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u043e \u0448\u0440\u0438\u0444\u0442\u0430","onlySelected":"\u0422\u043e\u043b\u044c\u043a\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435","withBackground":"\u0441 \u0444\u043e\u043d\u043e\u043c","handDrawn":"\u041d\u0430\u0440\u0438\u0441\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043e\u0442 \u0440\u0443\u043a\u0438","normal":"\u041e\u0431\u044b\u0447\u043d\u044b\u0439","code":"\u041a\u043e\u0434","small":"\u041c\u0430\u043b\u044b\u0439","medium":"\u0421\u0440\u0435\u0434\u043d\u0438\u0439","large":"\u0411\u043e\u043b\u044c\u0448\u043e\u0439","veryLarge":"\u041e\u0447\u0435\u043d\u044c \u0411\u043e\u043b\u044c\u0448\u043e\u0439","solid":"\u041e\u0434\u043d\u043e\u0442\u043e\u043d\u043d\u0430\u044f","hachure":"\u0428\u0442\u0440\u0438\u0445\u043e\u0432\u0430\u043d\u043d\u0430\u044f","crossHatch":"\u041f\u0435\u0440\u0435\u043a\u0440\u0435\u0441\u0442\u043d\u0430\u044f","thin":"\u0422\u043e\u043d\u043a\u0430\u044f","bold":"\u0416\u0438\u0440\u043d\u0430\u044f","extraBold":"\u041e\u0447\u0435\u043d\u044c \u0416\u0438\u0440\u043d\u0430\u044f","architect":"\u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u043e\u0440","artist":"\u0425\u0443\u0434\u043e\u0436\u043d\u0438\u043a","cartoonist":"\u041a\u0430\u0440\u0438\u043a\u0430\u0442\u0443\u0440\u0438\u0441\u0442","fileTitle":"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430","colorPicker":"\u0412\u044b\u0431\u043e\u0440 \u0446\u0432\u0435\u0442\u0430","canvasBackground":"\u0424\u043e\u043d \u0445\u043e\u043b\u0441\u0442\u0430","drawingCanvas":"\u0420\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0445\u043e\u043b\u0441\u0442\u0430"},"buttons":{"clearReset":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0445\u043e\u043b\u0441\u0442 & \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0446\u0432\u0435\u0442 \u0444\u043e\u043d\u0430","export":"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","exportToPng":"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 PNG","exportToSvg":"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 SVG","copyToClipboard":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430","save":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c","load":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c","getShareableLink":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435","close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","selectLanguage":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u044f\u0437\u044b\u043a"},"alerts":{"clearReset":"\u042d\u0442\u043e \u043e\u0447\u0438\u0441\u0442\u0438\u0442 \u0432\u0435\u0441\u044c \u0445\u043e\u043b\u0441\u0442. \u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?","couldNotCreateShareableLink":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0431\u0449\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443.","importBackendFailed":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437 \u0431\u044d\u043a\u044d\u043d\u0434\u0430.","cannotExportEmptyCanvas":"\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0445\u043e\u043b\u0441\u0442.","couldNotCopyToClipboard":"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0435\u0431-\u0431\u0440\u0430\u0443\u0437\u0435\u0440 Chrome."},"toolBar":{"selection":"\u0412\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u043b\u0430\u0441\u0442\u0438","rectangle":"\u041f\u0440\u044f\u043c\u043e\u0443\u0433\u043e\u043b\u044c\u043d\u0438\u043a","diamond":"\u0420\u043e\u043c\u0431","ellipse":"\u042d\u043b\u043b\u0438\u043f\u0441","arrow":"C\u0442\u0440\u0435\u043b\u043a\u0430","line":"\u041b\u0438\u043d\u0438\u044f","text":"\u0422\u0435\u043a\u0441\u0442","lock":"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u043f\u043e\u0441\u043b\u0435 \u0440\u0438\u0441\u043e\u0432\u0430\u043d\u0438\u044f"},"headings":{"canvasActions":"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0445\u043e\u043b\u0441\u0442\u0430","selectedShapeActions":"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u0444\u0438\u0433\u0443\u0440\u044b","shapes":"\u0424\u0438\u0433\u0443\u0440\u044b"}}')},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(3),o=n.n(r),i=n(6),l=n(7),c=n(4),s=n(5),u=n(10),d=n(9),p=n(11),m=n(8),f=n(2),h=n(0),g=n.n(h),v=n(12),y=n.n(v),b=n(15),k=n(13),E=n(14),w=n.n(E),x="http://www.w3.org/2000/svg";function S(e){return e.charAt(0).toUpperCase()+e.slice(1)}function C(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)}function T(e,t){var n=document.createElement("div"),a=document.body;n.style.position="absolute",n.style.whiteSpace="nowrap",n.style.font=t,a.appendChild(n),n.innerText=e;var r=n.offsetWidth,o=n.offsetHeight,i=document.createElement("span");i.style.display="inline-block",i.style.overflow="hidden",i.style.width="1px",i.style.height="1px",n.appendChild(i);var l=i.offsetTop+i.offsetHeight;return document.body.removeChild(n),{width:r,height:o,baseline:l}}function O(e){var t=window.getSelection();if(t){var n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}function A(){var e=window.getSelection();e&&e.removeAllRanges()}function z(e,t){return Math.abs(e-t)}function M(){document.documentElement.style.cursor=""}function B(e,t,n,a,r,o,i,l,c){var s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d={id:w()(),type:e,x:t,y:n,width:s,height:u,strokeColor:a,backgroundColor:r,fillStyle:o,strokeWidth:i,roughness:l,opacity:c,isSelected:!1,seed:Object(k.b)(),shape:null,points:[]};return d}function j(e,t,n){var a=T(t,n);return Object(f.a)({},e,{type:"text",text:t,font:n,x:e.x-a.width/2,y:e.y-a.height/2,width:a.width,height:a.height,baseline:a.baseline})}function R(e){var t=Object(f.a)({},e);return"points"in t&&(t.points=Array.isArray(e.points)?JSON.parse(JSON.stringify(e.points)):e.points),delete t.shape,t.id=w()(),t.seed=Object(k.b)(),t}n(22);function L(e,t,n,a,r,o){var i,l,c=r-n,s=o-a,u=c*c+s*s,d=-1;0!==u&&(d=((e-n)*c+(t-a)*s)/u),d<0?(i=n,l=a):d>1?(i=r,l=o):(i=n+d*c,l=a+d*s);var p=e-i,m=t-l;return Math.hypot(p,m)}function N(e,t,n,a,r){return[(e-n)*Math.cos(r)-(t-a)*Math.sin(r)+n,(e-n)*Math.sin(r)+(t-a)*Math.cos(r)+a]}function F(e){return"arrow"===e.type||"line"===e.type?P(e):[e.x,e.y,e.x+e.width,e.y+e.height]}function I(e){var t=Math.floor(e.width/2)+1,n=e.width,a=Math.floor(e.height/2)+1;return[t,0,n,a,t,e.height,0,a]}function P(e){if(e.points.length<2||!e.shape){var t=e.points.reduce((function(e,t){var n=Object(a.a)(t,2),r=n[0],o=n[1];return e.minY=Math.min(e.minY,o),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,o),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),n=t.minX,r=t.minY,o=t.maxX,i=t.maxY;return[n+e.x,r+e.y,o+e.x,i+e.y]}var l=e.shape[0].sets[0].ops,c=[0,0],s=l.reduce((function(e,t){var n=t.op,a=t.data;if("move"===n)c=a;else if("bcurveTo"===n){var r=[a[0],a[1]],o=[a[2],a[3]],i=[a[4],a[5]],l=c;c=i;for(var s=function(e,t){return Math.pow(1-e,3)*i[t]+3*e*Math.pow(1-e,2)*o[t]+3*Math.pow(e,2)*(1-e)*r[t]+l[t]*Math.pow(e,3)},u=0;u<=1;){var d=s(u,0),p=s(u,1);e.minY=Math.min(e.minY,p),e.minX=Math.min(e.minX,d),e.maxX=Math.max(e.maxX,d),e.maxY=Math.max(e.maxY,p),u+=.1}}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),u=s.minX,d=s.minY,p=s.maxX,m=s.maxY;return[u+e.x,d+e.y,p+e.x,m+e.y]}function H(e){var t=1/0,n=-1/0,r=1/0,o=-1/0;return e.forEach((function(e){var i=F(e),l=Object(a.a)(i,4),c=l[0],s=l[1],u=l[2],d=l[3];t=Math.min(t,c),r=Math.min(r,s),n=Math.max(n,u),o=Math.max(o,d)})),[t,r,n,o]}function D(e,t){var n=8/t,r=8/t,o=8/t,i=8/t,l=F(e),c=Object(a.a)(l,4),s=c[0],u=c[1],d=c[2],p=c[3],m=d-s,f=p-u,h=4/t,g={nw:[s-h-o,u-h-i,n,r],ne:[d+h,u-h-i,n,r],sw:[s-h-o,p+h,n,r],se:[d+h,p+h,n,r]},v=40/t;if(Math.abs(m)>v&&(g.n=[s+m/2,u-h-i,n,r],g.s=[s+m/2,p+h,n,r]),Math.abs(f)>v&&(g.w=[s-h-o,u+f/2,n,r],g.e=[d+h,u+f/2,n,r]),"arrow"===e.type||"line"===e.type){if(2===e.points.length){var y=Object(a.a)(e.points,2)[1];if(0===y[0]||0===y[1])return{nw:g.nw,se:g.se};if(y[0]>0&&y[1]<0)return{ne:g.ne,sw:g.sw};if(y[0]>0&&y[1]>0)return{nw:g.nw,se:g.se};if(y[0]<0&&y[1]>0)return{ne:g.ne,sw:g.sw};if(y[0]<0&&y[1]<0)return{nw:g.nw,se:g.se}}return{n:g.n,s:g.s,w:g.w,e:g.e}}return g}function W(e){return"transparent"!==e.backgroundColor||e.isSelected}function K(e,t,n,r){var o=10/r;if("ellipse"===e.type){var i=Math.abs(t-e.x-e.width/2),l=Math.abs(n-e.y-e.height/2),c=.707,s=.707,u=Math.abs(e.width)/2,d=Math.abs(e.height)/2;return[0,1,2,3].forEach((function(e){var t=u*c,n=d*s,a=(u*u-d*d)*Math.pow(c,3)/u,r=(d*d-u*u)*Math.pow(s,3)/d,o=t-a,p=n-r,m=i-a,f=l-r,h=Math.hypot(p,o),g=Math.hypot(f,m);c=Math.min(1,Math.max(0,(m*h/g+a)/u)),s=Math.min(1,Math.max(0,(f*h/g+r)/d));var v=Math.hypot(s,c);c/=v,s/=v})),W(e)?u*c-(i-o)>=0&&d*s-(l-o)>=0:Math.hypot(u*c-i,d*s-l)<o}if("rectangle"===e.type){var p=F(e),m=Object(a.a)(p,4),f=m[0],h=m[1],g=m[2],v=m[3];return W(e)?t>f-o&&t<g+o&&n>h-o&&n<v+o:L(t,n,f,h,g,h)<o||L(t,n,g,h,g,v)<o||L(t,n,g,v,f,v)<o||L(t,n,f,v,f,h)<o}if("diamond"===e.type){t-=e.x,n-=e.y;var y=I(e),b=Object(a.a)(y,8),k=b[0],E=b[1],w=b[2],x=b[3],S=b[4],C=b[5],T=b[6],O=b[7];if(W(e)){if(E>C){var A=[E,C];C=A[0],E=A[1]}if(w<T){var z=[w,T];T=z[0],w=z[1]}return C+=o,w+=o,((T-=o)-k)*(n-O)-(T-t)*((E-=o)-O)<=0&&(k-w)*(n-x)-(t-w)*(E-x)<=0&&(w-S)*(n-C)-(t-S)*(x-C)<=0&&(S-T)*(n-O)-(t-T)*(C-O)<=0}return L(t,n,k,E,w,x)<o||L(t,n,w,x,S,C)<o||L(t,n,S,C,T,O)<o||L(t,n,T,O,k,E)<o}if("arrow"===e.type||"line"===e.type){if(!e.shape)return!1;var M=e.shape,B=P(e),j=Object(a.a)(B,4),R=j[0],N=j[1],H=j[2],D=j[3];if(t<R||n<N-10||t>H||n>D+10)return!1;var K=t-e.x,X=n-e.y;return M.some((function(e){return Y(e.sets,K,X)}))}if("text"===e.type){var V=F(e),_=Object(a.a)(V,4),G=_[0],q=_[1],U=_[2],J=_[3];return t>=G&&t<=U&&n>=q&&n<=J}if("selection"===e.type)return console.warn("This should not happen, we need to investigate why it does."),!1;throw new Error("Unimplemented type ".concat(e.type))}var Y=function(e,t,n){var r=e[0].ops,o=[0,0];return r.some((function(e,r){var i=e.op,l=e.data;if("move"===i)o=l;else if("bcurveTo"===i){var c=[l[0],l[1]],s=[l[2],l[3]],u=[l[4],l[5]],d=o;return o=u,function(e,t,n,r,o){for(var i=Object(a.a)(o,2),l=i[0],c=i[1],s=function(a,o){return Math.pow(1-a,3)*r[o]+3*a*Math.pow(1-a,2)*n[o]+3*Math.pow(a,2)*(1-a)*t[o]+e[o]*Math.pow(a,3)},u=0;u<=1;){var d=s(u,0),p=s(u,1);if(Math.sqrt(Math.pow(d-l,2)+Math.pow(p-c,2))<20)return!0;u+=.01}return!1}(d,c,s,u,[t,n])}return!1}))};function X(e,t,n){var a=t.x,r=t.y;return e.reduce((function(e,t){if(e)return e;var o=function(e,t,n,a){if(!e.isSelected||"text"===e.type)return!1;var r=D(e,a),o=Object.keys(r).filter((function(e){var a=r[e];return!!a&&(t>=a[0]&&t<=a[0]+a[2]&&n>=a[1]&&n<=a[1]+a[3])}));return o.length>0&&o[0]}(t,a,r,n);return o?{element:t,resizeHandle:o}:null}),null)}function V(e){var t=e.element,n=e.resizeHandle,a=Math.sign(t.height)*Math.sign(t.width)===-1,r=null;switch(n){case"n":case"s":r="ns";break;case"w":case"e":r="ew";break;case"nw":case"se":r=a?"nesw":"nwse";break;case"ne":case"sw":r=a?"nwse":"nesw"}return r?"".concat(r,"-resize"):""}function _(e){return"text"===e.type}var G={ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",DELETE:"Delete",BACKSPACE:"Backspace",get META(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"metaKey":"ctrlKey"},TAB:"Tab",SPACE:" "};function q(e){return e===G.ARROW_LEFT||e===G.ARROW_RIGHT||e===G.ARROW_DOWN||e===G.ARROW_UP}function U(e){var t=e.initText,n=e.x,a=e.y,r=e.strokeColor,o=e.font,i=e.opacity,l=e.zoom,c=e.onSubmit,s=e.onCancel,u=document.createElement("div");function d(e){e.stopPropagation()}function p(){u.innerText?c(u.innerText.trim()):s(),m()}function m(){u.onblur=null,u.onkeydown=null,u.onpaste=null,window.removeEventListener("wheel",d,!0),document.body.removeChild(u)}u.contentEditable="true",u.tabIndex=0,u.innerText=t,u.dataset.type="wysiwyg",Object.assign(u.style,{color:r,position:"fixed",opacity:i/100,top:"".concat(a,"px"),left:"".concat(n,"px"),transform:"translate(-50%, -50%) scale(".concat(l,")"),textAlign:"left",display:"inline-block",font:o,padding:"4px",outline:"1px solid transparent",whiteSpace:"nowrap",minHeight:"1em",backfaceVisibility:"hidden"}),u.onpaste=function(e){try{var t=window.getSelection();if(!(null===t||void 0===t?void 0:t.rangeCount))return;t.deleteFromDocument();var n=e.clipboardData.getData("text").replace(/\r\n?/g,"\n"),a=document.createElement("span");a.innerText=n;var r=t.getRangeAt(0);r.insertNode(a),window.getSelection().removeAllRanges(),r.setStart(a,a.childNodes.length),r.setEnd(a,a.childNodes.length),t.addRange(r),e.preventDefault()}catch(o){console.error(o)}},u.onkeydown=function(e){if(e.key===G.ESCAPE)return e.preventDefault(),t?(u.innerText=t,void p()):void m();if(e.key===G.ENTER&&!e.shiftKey){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;p()}},u.onblur=p,window.addEventListener("wheel",d,!0),document.body.appendChild(u),u.focus(),O(u)}var J=function(e){var t=T(e.text,e.font);e.width=t.width,e.height=t.height,e.baseline=t.baseline};function Z(e){return"arrow"===e.type||"line"===e.type?e.points.length<2:0===e.width&&0===e.height}function $(e,t,n){var a=Math.abs(t),r=Math.abs(n);return"line"===e||"arrow"===e?r<a/2?n=0:a<r/2?t=0:n=a*Math.sign(n):"selection"!==e&&(n=a*Math.sign(n)),{width:t,height:n}}function Q(e){return!(!e||e.width>=0&&e.height>=0||"line"===e.type||"arrow"===e.type)&&(e.width<0&&(e.width=Math.abs(e.width),e.x-=e.width),e.height<0&&(e.height=Math.abs(e.height),e.y-=e.height),e.shape=null,!0)}function ee(e,t,n,r){var o=r.scrollX,i=r.scrollY,l=r.zoom,c=H(e),s=Object(a.a)(c,4),u=s[0],d=s[1],p=s[2],m=s[3],f=t/l,h=n/l,g=(t-f)/2-o,v=(n-h)/2-i,y=g+f,b=v+h,k=Math.min(u,g),E=Math.min(d,v),w=Math.max(p,y),x=Math.max(m,b);return{horizontal:g===k&&y===w?null:{x:(g-k)/(w-k)*t+4,y:n-6-4,width:(y-g)/(w-k)*t-8,height:6},vertical:v===E&&b===x?null:{x:t-6-4,y:(v-E)/(x-E)*n+4,width:6,height:(b-v)/(x-E)*n-8}}}function te(e){var t=!1;return e.forEach((function(e){e.isSelected&&(t=!0,e.isSelected=!1)})),t?e.slice():e}function ne(e){return e.filter((function(e){return!e.isSelected}))}function ae(e){var t=[];return e.forEach((function(e,n){e.isSelected&&t.push(n)})),t}function re(e){return e.some((function(e){return e.isSelected}))}function oe(e){return e.filter((function(e){return e.isSelected}))}var ie="excalidraw-".concat(function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),r=e.getHours(),o=e.getMinutes(),i=e.getSeconds();return"".concat(t).concat(n).concat(a).concat(r).concat(o).concat(i)}());function le(){return{draggingElement:null,resizingElement:null,multiElement:null,editingElement:null,elementType:"selection",elementLocked:!1,exportBackground:!0,currentItemStrokeColor:"#000000",currentItemBackgroundColor:"transparent",currentItemFillStyle:"hachure",currentItemStrokeWidth:1,currentItemRoughness:1,currentItemOpacity:100,currentItemFont:"20px Virgil",viewBackgroundColor:"#ffffff",scrollX:0,scrollY:0,cursorX:0,cursorY:0,scrolledOutside:!1,name:ie,isResizing:!1,selectionElement:null,zoom:1}}function ce(e){return{exportBackground:e.exportBackground,currentItemStrokeColor:e.currentItemStrokeColor,currentItemBackgroundColor:e.currentItemBackgroundColor,currentItemFillStyle:e.currentItemFillStyle,currentItemStrokeWidth:e.currentItemStrokeWidth,currentItemRoughness:e.currentItemRoughness,currentItemOpacity:e.currentItemOpacity,currentItemFont:e.currentItemFont,viewBackgroundColor:e.viewBackgroundColor,name:e.name}}function se(e){return{viewBackgroundColor:e.viewBackgroundColor}}function ue(e,t,n,a,r,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+a-o,n),e.quadraticCurveTo(t+a,n,t+a,n+o),e.lineTo(t+a,n+r-o),e.quadraticCurveTo(t+a,n+r,t+a-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill(),e.stroke()}function de(e){if(null===e)return{x:0,y:0};var t=e.getContext("2d");return null===t?{x:0,y:0}:{x:e.width/t.getTransform().a/2,y:e.height/t.getTransform().d/2}}function pe(e,t){var n={x:e.width/2*(t-1),y:e.height/2*(t-1)};return{x:parseFloat(n.x.toFixed(8)),y:parseFloat(n.y.toFixed(8))}}function me(e){var t=parseFloat(e.toFixed(2));return Math.max(.1,Math.min(t,2))}function fe(e,t){if(!e.shape)switch(e.type){case"rectangle":e.shape=t.rectangle(0,0,e.width,e.height,{stroke:e.strokeColor,fill:"transparent"===e.backgroundColor?void 0:e.backgroundColor,fillStyle:e.fillStyle,strokeWidth:e.strokeWidth,roughness:e.roughness,seed:e.seed});break;case"diamond":var n=I(e),r=Object(a.a)(n,8),o=r[0],i=r[1],l=r[2],c=r[3],s=r[4],u=r[5],d=r[6],p=r[7];e.shape=t.polygon([[o,i],[l,c],[s,u],[d,p]],{stroke:e.strokeColor,fill:"transparent"===e.backgroundColor?void 0:e.backgroundColor,fillStyle:e.fillStyle,strokeWidth:e.strokeWidth,roughness:e.roughness,seed:e.seed});break;case"ellipse":e.shape=t.ellipse(e.width/2,e.height/2,e.width,e.height,{stroke:e.strokeColor,fill:"transparent"===e.backgroundColor?void 0:e.backgroundColor,fillStyle:e.fillStyle,strokeWidth:e.strokeWidth,roughness:e.roughness,seed:e.seed,curveFitting:1});break;case"line":case"arrow":var m={stroke:e.strokeColor,strokeWidth:e.strokeWidth,roughness:e.roughness,seed:e.seed},f=e.points.length?e.points:[[0,0]];if(e.shape=[t.curve(f,m)],"arrow"===e.type){var h,g=function(e){var t=e.shape[0].sets[0].ops,n=t[t.length-1].data,r=[n[4],n[5]],o=[n[2],n[3]],i=[n[0],n[1]],l=t[t.length-2],c=[0,0];"move"===l.op?c=l.data:"bcurveTo"===l.op&&(c=[l.data[4],l.data[5]]);var s=function(e,t){return Math.pow(1-e,3)*r[t]+3*e*Math.pow(1-e,2)*o[t]+3*Math.pow(e,2)*(1-e)*i[t]+c[t]*Math.pow(e,3)},u=r[0],d=r[1],p=[s(.3,0),s(.3,1)],m=p[0],f=p[1],h=Math.hypot(u-m,d-f),g=(u-m)/h,v=(d-f)/h,y=e.points.reduce((function(e,t,n,r){var o=Object(a.a)(t,2),i=o[0],l=o[1],c=n>0?r[n-1]:[0,0],s=Object(a.a)(c,2),u=s[0],d=s[1];return e+Math.hypot(i-u,l-d)}),0),b=Math.min(30,y/2),k=u-g*b,E=d-v*b,w=N(k,E,u,d,-20*Math.PI/180),x=Object(a.a)(w,2),S=x[0],C=x[1],T=N(k,E,u,d,20*Math.PI/180),O=Object(a.a)(T,2);return[u,d,S,C,O[0],O[1]]}(e),v=Object(a.a)(g,6),y=v[0],b=v[1],k=v[2],E=v[3],w=v[4],x=v[5];(h=e.shape).push.apply(h,[t.line(k,E,y,b,m),t.line(w,x,y,b,m)])}}}function he(e,t,n){var a=t.generator;switch(e.type){case"selection":var r=n.fillStyle;n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(0,0,e.width,e.height),n.fillStyle=r;break;case"rectangle":case"diamond":case"ellipse":fe(e,a),n.globalAlpha=e.opacity/100,t.draw(e.shape),n.globalAlpha=1;break;case"line":case"arrow":fe(e,a),n.globalAlpha=e.opacity/100,e.shape.forEach((function(e){return t.draw(e)})),n.globalAlpha=1;break;default:if(!_(e))throw new Error("Unimplemented type ".concat(e.type));n.globalAlpha=e.opacity/100;var o=n.font;n.font=e.font;var i=n.fillStyle;n.fillStyle=e.strokeColor;for(var l=e.text.replace(/\r\n?/g,"\n").split("\n"),c=e.height/l.length,s=e.height-e.baseline,u=0;u<l.length;u++)n.fillText(l[u],0,(u+1)*c-s);n.fillStyle=i,n.font=o,n.globalAlpha=1}}function ge(e,t,n,a,r){var o=t.generator;switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":case"line":fe(e,o);var i=t.draw(e.shape),l=e.opacity/100;1!==l&&(i.setAttribute("stroke-opacity","".concat(l)),i.setAttribute("fill-opacity","".concat(l))),i.setAttribute("transform","translate(".concat(a||0," ").concat(r||0,")")),n.appendChild(i);break;case"arrow":fe(e,o);var c=n.ownerDocument.createElementNS(x,"g"),s=e.opacity/100;e.shape.forEach((function(e){var n=t.draw(e);1!==s&&(n.setAttribute("stroke-opacity","".concat(s)),n.setAttribute("fill-opacity","".concat(s))),n.setAttribute("transform","translate(".concat(a||0," ").concat(r||0,")")),c.appendChild(n)})),n.appendChild(c);break;default:if(!_(e))throw new Error("Unimplemented type ".concat(e.type));var u=e.opacity/100,d=n.ownerDocument.createElementNS(x,"g");1!==u&&(d.setAttribute("stroke-opacity","".concat(u)),d.setAttribute("fill-opacity","".concat(u))),d.setAttribute("transform","translate(".concat(a||0," ").concat(r||0,")"));var p=e.text.replace(/\r\n?/g,"\n").split("\n"),m=e.height/p.length,f=e.height-e.baseline,h=e.font.split(" ").filter((function(e){return!!e.trim()})),g=h[0],v="20px";h.length>1&&(g=h[1],v=h[0]);for(var y=0;y<p.length;y++){var b=n.ownerDocument.createElementNS(x,"text");b.textContent=p[y],b.setAttribute("x","0"),b.setAttribute("y","".concat((y+1)*m-f)),b.setAttribute("font-family",g),b.setAttribute("font-size",v),b.setAttribute("fill",e.strokeColor),d.appendChild(b)}n.appendChild(d)}}function ve(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=i.offsetX,c=i.offsetY,s=i.renderScrollbars,u=void 0===s||s,d=i.renderSelection,p=void 0===d||d;if(!r)return!1;o=Object(f.a)({},o,{scrollX:"number"===typeof l?l:o.scrollX,scrollY:"number"===typeof c?c:o.scrollY});var m=r.getContext("2d"),h=m.getTransform(),g=r.width/be(h),v=r.height/ke(h);function y(){m.setTransform(be(h)*o.zoom,0,0,ke(h)*o.zoom,Ee(m.getTransform()),we(m.getTransform()))}var b=pe(r,o.zoom);function k(){m.setTransform(be(m.getTransform()),0,0,ke(m.getTransform()),Ee(h)-b.x,we(h)-b.y)}if(m.save(),"string"===typeof o.viewBackgroundColor){var E="transparent"===o.viewBackgroundColor||5===o.viewBackgroundColor.length||9===o.viewBackgroundColor.length;E&&m.clearRect(0,0,g,v),m.fillStyle=o.viewBackgroundColor,m.fillRect(0,0,g,v)}else m.clearRect(0,0,g,v);m.restore();var w=e.filter((function(e){return ye(e,g,v,o)}));if(m.save(),y(),k(),m.translate(o.scrollX,o.scrollY),w.forEach((function(e){m.save(),m.translate(e.x,e.y),he(e,n,m),m.restore()})),m.restore(),t&&(m.save(),y(),k(),m.translate(o.scrollX,o.scrollY),m.translate(t.x,t.y),he(t,n,m),m.restore()),p){var x=oe(e),S=4/o.zoom;if(m.save(),y(),k(),m.translate(o.scrollX,o.scrollY),x.forEach((function(e){var t=F(e),n=Object(a.a)(t,4),r=n[0],i=n[1],l=n[2]-r,c=n[3]-i,s=m.getLineDash();m.setLineDash([8/o.zoom,4/o.zoom]),m.strokeRect(r-S,i-S,l+2*S,c+2*S),m.setLineDash(s)})),m.restore(),1===x.length&&"text"!==x[0].type){m.save(),y(),k(),m.translate(o.scrollX,o.scrollY);var C=D(x[0],o.zoom);Object.values(C).filter((function(e){return void 0!==e})).forEach((function(e){m.strokeRect(e[0],e[1],e[2],e[3])})),m.restore()}}if(u){var T=ee(e,g,v,o);m.save(),m.fillStyle="rgba(0,0,0,0.3)",m.strokeStyle="rgba(255,255,255,0.8)",[T.horizontal,T.vertical].forEach((function(e){e&&ue(m,e.x,e.y,e.width,e.height,3)})),m.restore()}return w.length>0}function ye(e,t,n,r){var o=r.scrollX,i=r.scrollY,l=r.zoom,c=F(e),s=Object(a.a)(c,4),u=s[0],d=s[1],p=s[2],m=s[3],f=t/l,h=n/l,g=t-f,v=n-h;return p+o-g/2>=0&&u+o-g/2<=f&&m+i-v/2>=0&&d+i-v/2<=h}function be(e){return e.a}function ke(e){return e.d}function Ee(e){return e.e}function we(e){return e.f}function xe(e,t){var n=t.exportBackground,r=t.exportPadding,o=void 0===r?10:r,i=t.viewBackgroundColor,l=t.scale,c=void 0===l?1:l,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){var n=document.createElement("canvas");return n.width=e*c,n.height=t*c,n};return function(){var t,r=H(e),l=Object(a.a)(r,4),u=l[0],d=l[1],p=l[2],m=l[3],f=z(u,p)+2*o,h=z(d,m)+2*o,g=s(f,h);return null===(t=g.getContext("2d"))||void 0===t||t.scale(c,c),ve(e,null,b.a.canvas(g),g,{viewBackgroundColor:n?i:null,scrollX:0,scrollY:0,zoom:1},{offsetX:-u+o,offsetY:-d+o,renderScrollbars:!1,renderSelection:!1}),g}()}function Se(e,t){var n=t.exportBackground,r=t.exportPadding,o=void 0===r?10:r,i=t.viewBackgroundColor,l=H(e),c=Object(a.a)(l,4),s=c[0],u=c[1],d=c[2],p=c[3],m=z(s,d)+2*o,f=z(u,p)+2*o,h=document.createElementNS(x,"svg");if(h.setAttribute("version","1.1"),h.setAttribute("xmlns",x),h.setAttribute("viewBox","0 0 ".concat(m," ").concat(f)),h.innerHTML='\n  <defs>\n    <style>\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/FG_Virgil.ttf");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.ttf");\n      }\n    </style>\n  </defs>\n  ',n&&i){var g=h.ownerDocument.createElementNS(x,"rect");g.setAttribute("x","0"),g.setAttribute("y","0"),g.setAttribute("width","".concat(m)),g.setAttribute("height","".concat(f)),g.setAttribute("fill",i),h.appendChild(g)}return function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.offsetX,o=void 0===r?0:r,i=a.offsetY,l=void 0===i?0:i;n&&e.forEach((function(e){ge(e,t,n,e.x+o,e.y+l)}))}(e,b.a.svg(h),h,{offsetX:-s+o,offsetY:-u+o}),h}var Ce=n(16),Te=n(23),Oe=[{lng:"en",label:"English",data:n(30)},{lng:"de",label:"Deutsch",data:n(31)},{lng:"es",label:"Espa\xf1ol",data:n(32)},{lng:"fr",label:"Fran\xe7ais",data:n(33)},{lng:"nb-no",label:"Norsk Bokm\xe5l",data:n(34)},{lng:"pl",label:"Polski",data:n(35)},{lng:"pt",label:"Portugu\xeas",data:n(36)},{lng:"ru",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",data:n(37)}],Ae=Oe[0],ze=Oe[0];function Me(e){Ae=Oe.find((function(t){return t.lng===e}))||ze,Re.cacheUserLanguage(Ae.lng)}function Be(e,t){for(var n=0;n<t.length;++n){var a=t[n];if(void 0===e[a])return;e=e[a]}if("string"===typeof e)return e}function je(e,t){var n=e.split("."),a=Be(Ae.data,n)||Be(ze.data,n);if(void 0===a)throw new Error("Can't find translation for ".concat(e));if(t)for(var r in t)a=a.replace("{{".concat(r,"}}"),t[r]);return a}var Re=new Te.a;Re.init({languageUtils:{formatLanguageCode:function(e){return e},isWhitelisted:function(){return!0}},checkWhitelist:!1}),Me(Re.detect());var Le="",Ne=!1,Fe="clipboard"in navigator&&"readText"in navigator.clipboard,Ie="clipboard"in navigator&&"writeText"in navigator.clipboard,Pe="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype;function He(e){return De.apply(this,arguments)}function De(){return(De=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le=JSON.stringify(oe(t).map((function(e){e.shape;return Object(m.a)(e,["shape"])}))),e.prev=1,e.next=4,_e(null);case 4:Ne=!1,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Ne=!0;case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function We(){try{var e=JSON.parse(Le);if(Array.isArray(e)&&e.length>0&&e[0].type)return{elements:e}}catch(t){console.error(t)}return{}}function Ke(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=5;break}e.t0=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/plain").trim(),e.next=11;break;case 5:if(e.t1=Fe,!e.t1){e.next=10;break}return e.next=9,navigator.clipboard.readText();case 9:e.t1=e.sent;case 10:e.t0=e.t1;case 11:if(!(a=e.t0)||Ne){e.next=14;break}return e.abrupt("return",{text:a});case 14:e.next=19;break;case 16:e.prev=16,e.t2=e.catch(0),console.error(e.t2);case 19:return e.abrupt("return",We());case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function Xe(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{t.toBlob(function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.write([new window.ClipboardItem({"image/png":a})]);case 3:e(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),n(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}())}catch(a){n(a)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,!Ie){e.next=10;break}return e.prev=2,e.next=5,navigator.clipboard.writeText(t||"");case 5:n=!0,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:if(n||qe(t||" ")){e.next=12;break}throw new Error("couldn't copy");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function qe(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var a=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(a,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var r=!1;try{n.select(),n.setSelectionRange(0,n.value.length),r=document.execCommand("copy")}catch(o){}return n.remove(),r}function Ue(e,t){return JSON.stringify({type:"excalidraw",version:1,source:window.location.origin,elements:e.map((function(e){e.shape,e.isSelected;return Object(m.a)(e,["shape","isSelected"])})),appState:se(t)},null,2)}function Je(e){var t=H(e),n=Object(a.a)(t,4),r=n[0],o=n[1],i=(r+n[2])/2,l=(o+n[3])/2;return{scrollX:window.innerWidth/2-i,scrollY:window.innerHeight/2-l}}function Ze(){return(Ze=Object(l.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ue(t,n),r="".concat(n.name,".json"),e.next=4,Object(Ce.b)(new Blob([a],{type:"application/json"}),{fileName:r,description:"Excalidraw file"},window.handle);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){return($e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ce.a)({description:"Excalidraw files",extensions:["json"],mimeTypes:["application/json"]});case 2:return t=e.sent,e.abrupt("return",Qe(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){return et.apply(this,arguments)}function et(){return(et=Object(l.a)(o.a.mark((function e(t){var n,a,r,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(e){var t=le(),n=[],a=t;try{var r=JSON.parse(e);if("excalidraw"!==r.type)throw new Error("Cannot load invalid json");n=r.elements||[],a=Object(f.a)({},t,{},r.appState)}catch(o){}return{elements:n,appState:a}},t.handle&&(window.handle=t.handle),!("text"in Blob)){e.next=8;break}return e.next=5,t.text();case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 10:a=e.sent;case 11:if(r=n(a),i=r.elements,l=r.appState,i.length){e.next=14;break}return e.abrupt("return",Promise.reject("Cannot load invalid json"));case 14:return e.abrupt("return",new Promise((function(e){e(at(i,l,{scrollToContent:!0}))})));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tt(e,t,n,a){return nt.apply(this,arguments)}function nt(){return(nt=Object(l.a)(o.a.mark((function e(t,n,a,r){var i,c,s,u,d,p,m,f,h,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.exportBackground,c=r.exportPadding,s=void 0===c?10:c,u=r.viewBackgroundColor,d=r.name,p=r.scale,m=void 0===p?1:p,n.length){e.next=3;break}return e.abrupt("return",window.alert(je("alerts.cannotExportEmptyCanvas")));case 3:if("svg"!==t){e.next=8;break}return f=Se(n,{exportBackground:i,viewBackgroundColor:u,exportPadding:s}),e.next=7,Object(Ce.b)(new Blob([f.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(d,".svg")});case 7:return e.abrupt("return");case 8:if((h=xe(n,{exportBackground:i,viewBackgroundColor:u,exportPadding:s,scale:m})).style.display="none",document.body.appendChild(h),"png"===t)g="".concat(d,".png"),h.toBlob(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,Object(Ce.b)(t,{fileName:g});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());else if("clipboard"===t)try{Xe(h)}catch(v){window.alert(je("alerts.couldNotCopyToClipboard"))}h!==a&&h.remove();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t,n){var a=e.filter((function(e){return!Z(e)})).map((function(e){var t=[];return"arrow"===e.type?t=Array.isArray(e.points)?e.points.length>0?e.points:[[0,0]]:[[0,0],[e.width,e.height]]:"line"===e.type?t=Array.isArray(e.points)&&0!==e.points.length?e.points:[[0,0],[e.width,e.height]]:Q(e),Object(f.a)({},e,{id:e.id||w()(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,roughness:e.roughness||1,opacity:null===e.opacity||void 0===e.opacity?100:e.opacity,points:t})}));return(null===n||void 0===n?void 0:n.scrollToContent)&&t&&(t=Object(f.a)({},t,{},Je(a))),{elements:a,appState:t}}function rt(){var e=localStorage.getItem("excalidraw"),t=localStorage.getItem("excalidraw-state"),n=[];if(e)try{n=JSON.parse(e).map((function(e){e.shape;return Object(m.a)(e,["shape"])}))}catch(r){}var a=null;if(t)try{a=JSON.parse(t)}catch(r){}return at(n,a)}function ot(e,t){localStorage.setItem("excalidraw",JSON.stringify(e.map((function(e){e.shape;return Object(m.a)(e,["shape"])})))),localStorage.setItem("excalidraw-state",JSON.stringify(function(e){return e.draggingElement,e.resizingElement,e.multiElement,e.editingElement,e.selectionElement,e.isResizing,Object(m.a)(e,["draggingElement","resizingElement","multiElement","editingElement","selectionElement","isResizing"])}(t)))}function it(){return lt.apply(this,arguments)}function lt(){return(lt=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=rt(),e.abrupt("return",{elements:t.elements,appState:t.appState&&Object(f.a)({},t.appState,{undefined:void 0})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.handle=null;var ct=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e},st=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"line"===e},ut=function(e){return"text"===e};function dt(e,t,n,a){for(var r=null,o=e.length-1;o>=0;--o)if(K(e[o],t,n,a)){r=e[o];break}return r}var pt=[{icon:g.a.createElement("svg",{viewBox:"0 0 320 512"},g.a.createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection"},{icon:g.a.createElement("svg",{viewBox:"0 0 448 512"},g.a.createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle"},{icon:g.a.createElement("svg",{viewBox:"0 0 223.646 223.646"},g.a.createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond"},{icon:g.a.createElement("svg",{viewBox:"0 0 512 512"},g.a.createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse"},{icon:g.a.createElement("svg",{viewBox:"0 0 448 512"},g.a.createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow"},{icon:g.a.createElement("svg",{viewBox:"0 0 6 6"},g.a.createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"#000",strokeLinecap:"round"})),value:"line"},{icon:g.a.createElement("svg",{viewBox:"0 0 448 512"},g.a.createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text"}],mt=pt.map((function(e,t){return[e.value[0],(t+1).toString()]})).flat(1);var ft=function(){function e(){Object(c.a)(this,e),this.recording=!0,this.stateHistory=[],this.redoStack=[]}return Object(s.a)(e,[{key:"generateEntry",value:function(e,t){return JSON.stringify({appState:ce(e),elements:t.map((function(t){t.shape;var n=Object(m.a)(t,["shape"]);return Object(f.a)({},n,{shape:null,points:e.multiElement&&e.multiElement.id===n.id?n.points.slice(0,-1):n.points})}))})}},{key:"pushEntry",value:function(e,t){var n=this.generateEntry(e,t);this.stateHistory.length>0&&this.stateHistory[this.stateHistory.length-1]===n||(this.stateHistory.push(n),this.clearRedoStack())}},{key:"restoreEntry",value:function(e){try{return JSON.parse(e)}catch(t){return null}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(0===this.redoStack.length)return null;var e=this.redoStack.pop();return void 0!==e?(this.stateHistory.push(e),this.restoreEntry(e)):null}},{key:"undoOnce",value:function(){if(0===this.stateHistory.length)return null;var e=this.stateHistory.pop(),t=this.stateHistory[this.stateHistory.length-1];return void 0!==e?(this.redoStack.push(e),this.restoreEntry(t)):null}},{key:"isRecording",value:function(){return this.recording}},{key:"skipRecording",value:function(){this.recording=!1}},{key:"resumeRecording",value:function(){this.recording=!0}}]),e}();n(38);function ht(e){var t=e.children,n=e.left,a=e.top,r=e.onCloseRequest,o=e.fitInViewport,i=void 0!==o&&o,l=Object(h.useRef)(null);return Object(h.useLayoutEffect)((function(){if(i&&l.current){var e=l.current,t=e.getBoundingClientRect(),n=t.x,a=t.y,r=t.width,o=t.height,c=window.innerWidth;n+r>c&&(e.style.left="".concat(c-r,"px"));var s=window.innerHeight;a+o>s&&(e.style.top="".concat(s-o,"px"))}}),[i]),g.a.createElement("div",{className:"popover",style:{top:a,left:n},ref:l},g.a.createElement("div",{className:"cover",onClick:r,onContextMenu:function(e){e.preventDefault(),r&&r()}}),t)}var gt;n(39);function vt(e){var t=e.options,n=e.onCloseRequest,a=e.top,r=e.left;return g.a.createElement(ht,{onCloseRequest:n,top:a,left:r,fitInViewport:!0},g.a.createElement("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()}},t.map((function(e,t){return g.a.createElement("li",{key:t,onClick:n},g.a.createElement(yt,e))}))))}function yt(e){var t=e.label,n=e.action;return g.a.createElement("button",{className:"context-menu-option",onClick:n},t)}function bt(){if(gt)return gt;var e=document.createElement("div");return document.body.appendChild(e),gt=e}function kt(){Object(v.unmountComponentAtNode)(bt())}var Et=function(e){var t=Array.of();e.options.forEach((function(e){e&&t.push(e)})),t.length&&Object(v.render)(g.a.createElement(vt,{top:e.top,left:e.left,options:t,onCloseRequest:kt}),bt())},wt=(n(40),function(){function e(t,n,a){Object(c.a)(this,e),this.actions={},this.updater=void 0,this.getAppState=void 0,this.getElements=void 0,this.updater=t,this.getAppState=n,this.getElements=a}return Object(s.a)(e,[{key:"registerAction",value:function(e){this.actions[e.name]=e}},{key:"handleKeyDown",value:function(e){var t=this,n=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(n){return n.keyTest&&n.keyTest(e,t.getAppState(),t.getElements())}));if(0===n.length)return!1;e.preventDefault();var a=n[0].commitToHistory&&n[0].commitToHistory(this.getAppState(),this.getElements());return this.updater(n[0].perform(this.getElements(),this.getAppState(),null),a),!0}},{key:"getContextMenuItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return Object.values(this.actions).filter(t).filter((function(e){return"contextItemLabel"in e})).sort((function(e,t){return(void 0!==e.contextMenuOrder?e.contextMenuOrder:999)-(void 0!==t.contextMenuOrder?t.contextMenuOrder:999)})).map((function(t){return{label:t.contextItemLabel?je(t.contextItemLabel):"",action:function(){var n=t.commitToHistory&&t.commitToHistory(e.getAppState(),e.getElements());e.updater(t.perform(e.getElements(),e.getAppState(),null),n)}}}))}},{key:"renderAction",value:function(e){var t=this;if(this.actions[e]&&"PanelComponent"in this.actions[e]){var n=this.actions[e],a=n.PanelComponent;return g.a.createElement(a,{elements:this.getElements(),appState:this.getAppState(),updateData:function(e){var a=n.commitToHistory&&n.commitToHistory(t.getAppState(),t.getElements());t.updater(n.perform(t.getElements(),t.getAppState(),e),a)}})}return null}}]),e}()),xt={name:"deleteSelectedElements",perform:function(e,t){return{elements:ne(e),appState:Object(f.a)({},t,{elementType:"selection",multiElement:null})}},contextItemLabel:"labels.delete",contextMenuOrder:3,commitToHistory:function(e,t){return re(t)},keyTest:function(e){return e.key===G.BACKSPACE||e.key===G.DELETE}};function St(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function Ct(e,t){t.sort((function(e,t){return e-t}));var n=!0;return t.forEach((function(t,a){(n=n&&t===a)||St(e,t-1,t)})),e}function Tt(e,t){var n=t.sort((function(e,t){return t-e})),a=!0;return n.forEach((function(t,n){(a=a&&t===e.length-n-1)||St(e,t+1,t)})),e}function Ot(e,t){t.sort((function(e,t){return e-t}));var n=t.map((function(t){return e[t]})),a=t.reverse().concat([0]);return a.forEach((function(t,n){if(0!==n)for(var r=a[n-1]-1;r>=t;--r)e[r+n]=e[r]})),n.forEach((function(t,n){e[n]=t})),e}function At(e,t){var n=t.sort((function(e,t){return t-e})),a=n.map((function(t){return e[t]}));return(t=n.reverse().concat([e.length])).forEach((function(n,a){if(0!==a)for(var r=t[a-1]+1;r<n;++r)e[r-a]=e[r]})),a.forEach((function(t,n){e[e.length-n-1]=t})),e}var zt={bringForward:g.a.createElement("svg",{viewBox:"0 0 24 24"},g.a.createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",stroke:"#000",strokeWidth:"2"}),g.a.createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:"#ffa94d",stroke:"#ffa94d",strokeWidth:"2"})),sendBackward:g.a.createElement("svg",{viewBox:"0 0 24 24"},g.a.createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:"#ffa94d",stroke:"#ffa94d",strokeWidth:"2"}),g.a.createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",stroke:"#000",strokeWidth:"2"})),bringToFront:g.a.createElement("svg",{viewBox:"0 0 24 24"},g.a.createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",stroke:"#000",strokeWidth:"2"}),g.a.createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:"#ffa94d",stroke:"#ffa94d",strokeWidth:"2"})),sendToBack:g.a.createElement("svg",{viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round"},g.a.createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:"#ffa94d",stroke:"#ffa94d",strokeWidth:"2"}),g.a.createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",stroke:"#000",strokeWidth:"2"}))},Mt={name:"sendBackward",perform:function(e,t){return{elements:Ct(Object(i.a)(e),ae(e)),appState:t}},contextItemLabel:"labels.sendBackward",keyPriority:40,commitToHistory:function(){return!0},keyTest:function(e){return e[G.META]&&e.altKey&&"B"===e.key},PanelComponent:function(e){var t=e.updateData;return g.a.createElement("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:je("labels.sendBackward")},zt.sendBackward)}},Bt={name:"bringForward",perform:function(e,t){return{elements:Tt(Object(i.a)(e),ae(e)),appState:t}},contextItemLabel:"labels.bringForward",keyPriority:40,commitToHistory:function(){return!0},keyTest:function(e){return e[G.META]&&e.altKey&&"F"===e.key},PanelComponent:function(e){var t=e.updateData;return g.a.createElement("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:je("labels.bringForward")},zt.bringForward)}},jt={name:"sendToBack",perform:function(e,t){return{elements:Ot(Object(i.a)(e),ae(e)),appState:t}},contextItemLabel:"labels.sendToBack",commitToHistory:function(){return!0},keyTest:function(e){return e[G.META]&&e.shiftKey&&"B"===e.key},PanelComponent:function(e){var t=e.updateData;return g.a.createElement("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:je("labels.sendToBack")},zt.sendToBack)}},Rt={name:"bringToFront",perform:function(e,t){return{elements:At(Object(i.a)(e),ae(e)),appState:t}},commitToHistory:function(){return!0},contextItemLabel:"labels.bringToFront",keyTest:function(e){return e[G.META]&&e.shiftKey&&"F"===e.key},PanelComponent:function(e){var t=e.updateData;return g.a.createElement("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:je("labels.bringToFront")},zt.bringToFront)}},Lt={name:"selectAll",perform:function(e){return{elements:e.map((function(e){return Object(f.a)({},e,{isSelected:!0})}))}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[G.META]&&"a"===e.key}};function Nt(e){var t=e.options,n=e.value,a=e.onChange,r=e.group;return g.a.createElement("div",{className:"buttonList"},t.map((function(e){return g.a.createElement("label",{key:e.text,className:n===e.value?"active":""},g.a.createElement("input",{type:"radio",name:r,onChange:function(){return a(e.value)},checked:n===e.value}),e.text)})))}n(41);var Ft=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),It=function(e){var t=e.colors,n=e.color,a=e.onChange,r=e.onClose,o=e.label,i=g.a.useRef(),l=g.a.useRef(),c=g.a.useRef(),s=g.a.useRef();g.a.useEffect((function(){l.current?l.current.focus():s.current&&s.current.focus()}),[]);return g.a.createElement("div",{className:"color-picker",role:"dialog","aria-modal":"true","aria-label":je("labels.colorPicker"),onKeyDown:function(e){if(e.key===G.TAB){var t,n,a=document.activeElement;if(e.shiftKey){if(a===i.current)null===(t=s.current)||void 0===t||t.focus(),e.preventDefault()}else if(a===s.current)null===(n=i.current)||void 0===n||n.focus(),e.preventDefault()}else if(e.key===G.ARROW_RIGHT||e.key===G.ARROW_LEFT||e.key===G.ARROW_UP||e.key===G.ARROW_DOWN){var o=document.activeElement,l=Array.prototype.indexOf.call(c.current.children,o);if(-1!==l){var u=c.current.children.length,d=e.key===G.ARROW_RIGHT?(l+1)%u:e.key===G.ARROW_LEFT?(u+l-1)%u:e.key===G.ARROW_DOWN?(l+5)%u:e.key===G.ARROW_UP?(u+l-5)%u:l;c.current.children[d].focus()}e.preventDefault()}else if(Ft.includes(e.key.toLowerCase())&&!C(e.target)){var p=Ft.indexOf(e.key.toLowerCase());c.current.children[p].focus(),e.preventDefault()}else e.key!==G.ESCAPE&&e.key!==G.ENTER||(e.preventDefault(),r());e.nativeEvent.stopImmediatePropagation()}},g.a.createElement("div",{className:"color-picker-triangle-shadow"}),g.a.createElement("div",{className:"color-picker-triangle"}),g.a.createElement("div",{className:"color-picker-content"},g.a.createElement("div",{className:"colors-gallery",ref:function(e){e&&(c.current=e)}},t.map((function(e,t){return g.a.createElement("button",{className:"color-picker-swatch",onClick:function(){a(e)},title:"".concat(e," \u2014 ").concat(Ft[t].toUpperCase()),"aria-label":e,"aria-keyshortcuts":Ft[t],style:{backgroundColor:e},key:e,ref:function(a){a&&0===t&&(i.current=a),a&&e===n&&(l.current=a)},onFocus:function(){a(e)}},"transparent"===e?g.a.createElement("div",{className:"color-picker-transparent"}):void 0,g.a.createElement("span",{className:"color-picker-keybinding"},Ft[t]))}))),g.a.createElement(Pt,{color:n,label:o,onChange:function(e){a(e)},ref:s})))},Pt=g.a.forwardRef((function(e,t){var n=e.color,r=e.onChange,o=e.label,i=/^([0-9a-f]{3}|[0-9a-f]{6}|[0-9a-f]{8}|transparent)$/,l=g.a.useState(n),c=Object(a.a)(l,2),s=c[0],u=c[1],d=g.a.useRef(null);return g.a.useEffect((function(){u(n)}),[n]),g.a.useImperativeHandle(t,(function(){return d.current})),g.a.createElement("div",{className:"color-input-container"},g.a.createElement("div",{className:"color-picker-hash"},"#"),g.a.createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":o,onChange:function(e){var t=e.target.value.toLowerCase();t.match(i)&&r("transparent"===t?"transparent":"#".concat(t)),u(t)},value:(s||"").replace(/^#/,""),onPaste:function(e){return r(e.clipboardData.getData("text"))},onBlur:function(){return u(n)},ref:d}))}));function Ht(e){var t=e.type,n=e.color,r=e.onChange,o=e.label,i=g.a.useState(!1),l=Object(a.a)(i,2),c=l[0],s=l[1],u=g.a.useRef(null);return g.a.createElement("div",null,g.a.createElement("div",{className:"color-picker-control-container"},g.a.createElement("button",{className:"color-picker-label-swatch","aria-label":o,style:n?{backgroundColor:n}:void 0,onClick:function(){return s(!c)},ref:u}),g.a.createElement(Pt,{color:n,label:o,onChange:function(e){r(e)}})),g.a.createElement(g.a.Suspense,{fallback:""},c?g.a.createElement(ht,{onCloseRequest:function(){return s(!1)}},g.a.createElement(It,{colors:Dt[t],color:n||null,onChange:function(e){r(e)},onClose:function(){var e;s(!1),null===(e=u.current)||void 0===e||e.focus()},label:o})):null))}var Dt={canvasBackground:["#ffffff","#f8f9fa","#f1f3f5","#fff5f5","#fff0f6","#f8f0fc","#f3f0ff","#edf2ff","#e7f5ff","#e3fafc","#e6fcf5","#ebfbee","#f4fce3","#fff9db","#fff4e6"],elementBackground:["transparent","#ced4da","#868e96","#fa5252","#e64980","#be4bdb","#7950f2","#4c6ef5","#228be6","#15aabf","#12b886","#40c057","#82c91e","#fab005","#fd7e14"],elementStroke:["#000000","#343a40","#495057","#c92a2a","#a61e4d","#862e9c","#5f3dc4","#364fc7","#1864ab","#0b7285","#087f5b","#2b8a3e","#5c940d","#e67700","#d9480f"]},Wt=function(e,t){return e.map((function(e){return e.isSelected?t(e):e}))},Kt=function(e,t,n,a){var r,o;return null!==(r=null!==(o=e&&n(e))&&void 0!==o?o:re(t)?function(e,t){var n=Array.from(new Set(oe(e).map((function(e){return t(e)}))));return 1===n.length?n[0]:null}(t,n):a)&&void 0!==r?r:null},Yt={name:"changeStrokeColor",perform:function(e,t,n){return{elements:Wt(e,(function(e){return Object(f.a)({},e,{shape:null,strokeColor:n})})),appState:Object(f.a)({},t,{currentItemStrokeColor:n})}},commitToHistory:function(){return!0},PanelComponent:function(e){var t=e.elements,n=e.appState,a=e.updateData;return g.a.createElement(g.a.Fragment,null,g.a.createElement("h3",{"aria-hidden":"true"},je("labels.stroke")),g.a.createElement(Ht,{type:"elementStroke",label:je("labels.stroke"),color:Kt(n.editingElement,t,(function(e){return e.strokeColor}),n.currentItemStrokeColor),onChange:a}))}},Xt={name:"changeBackgroundColor",perform:function(e,t,n){return{elements:Wt(e,(function(e){return Object(f.a)({},e,{shape:null,backgroundColor:n})})),appState:Object(f.a)({},t,{currentItemBackgroundColor:n})}},commitToHistory:function(){return!0},PanelComponent:function(e){var t=e.elements,n=e.appState,a=e.updateData;return g.a.createElement(g.a.Fragment,null,g.a.createElement("h3",{"aria-hidden":"true"},je("labels.background")),g.a.createElement(Ht,{type:"elementBackground",label:je("labels.background"),color:Kt(n.editingElement,t,(function(e){return e.backgroundColor}),n.currentItemBackgroundColor),onChange:a}))}},Vt={name:"changeFillStyle",perform:function(e,t,n){return{elements:Wt(e,(function(e){return Object(f.a)({},e,{shape:null,fillStyle:n})})),appState:Object(f.a)({},t,{currentItemFillStyle:n})}},commitToHistory:function(){return!0},PanelComponent:function(e){var t=e.elements,n=e.appState,a=e.updateData;return g.a.createElement("fieldset",null,g.a.createElement("legend",null,je("labels.fill")),g.a.createElement(Nt,{options:[{value:"solid",text:je("labels.solid")},{value:"hachure",text:je("labels.hachure")},{value:"cross-hatch",text:je("labels.crossHatch")}],group:"fill",value:Kt(n.editingElement,t,(function(e){return e.fillStyle}),n.currentItemFillStyle),onChange:function(e){a(e)}}))}},_t={name:"changeStrokeWidth",perform:function(e,t,n){return{elements:Wt(e,(function(e){return Object(f.a)({},e,{shape:null,strokeWidth:n})})),appState:Object(f.a)({},t,{currentItemStrokeWidth:n})}},commitToHistory:function(){return!0},PanelComponent:function(e){var t=e.elements,n=e.appState,a=e.updateData;return g.a.createElement("fieldset",null,g.a.createElement("legend",null,je("labels.strokeWidth")),g.a.createElement(Nt,{group:"stroke-width",options:[{value:1,text:je("labels.thin")},{value:2,text:je("labels.bold")},{value:4,text:je("labels.extraBold")}],value:Kt(n.editingElement,t,(function(e){return e.strokeWidth}),n.currentItemStrokeWidth),onChange:function(e){return a(e)}}))}},Gt={name:"changeSloppiness",perform:function(e,t,n){return{elements:Wt(e,(function(e){return Object(f.a)({},e,{shape:null,roughness:n})})),appState:Object(f.a)({},t,{currentItemRoughness:n})}},commitToHistory:function(){return!0},PanelComponent:function(e){var t=e.elements,n=e.appState,a=e.updateData;return g.a.createElement("fieldset",null,g.a.createElement("legend",null,je("labels.sloppiness")),g.a.createElement(Nt,{group:"sloppiness",options:[{value:0,text:je("labels.architect")},{value:1,text:je("labels.artist")},{value:2,text:je("labels.cartoonist")}],value:Kt(n.editingElement,t,(function(e){return e.roughness}),n.currentItemRoughness),onChange:function(e){return a(e)}}))}},qt={name:"changeOpacity",perform:function(e,t,n){return{elements:Wt(e,(function(e){return Object(f.a)({},e,{shape:null,opacity:n})})),appState:Object(f.a)({},t,{currentItemOpacity:n})}},commitToHistory:function(){return!0},PanelComponent:function(e){var t,n=e.elements,a=e.appState,r=e.updateData;return g.a.createElement("label",{className:"control-label"},je("labels.opacity"),g.a.createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(e){return r(+e.target.value)},onWheel:function(e){e.stopPropagation();var t=+e.target.value;e.deltaY<0&&t<100?r(t+10):e.deltaY>0&&t>0&&r(t-10)},value:null!==(t=Kt(a.editingElement,n,(function(e){return e.opacity}),a.currentItemOpacity))&&void 0!==t?t:void 0}))}},Ut={name:"changeFontSize",perform:function(e,t,n){return{elements:Wt(e,(function(e){if(_(e)){var t=Object(f.a)({},e,{shape:null,font:"".concat(n,"px ").concat(e.font.split("px ")[1])});return J(t),t}return e})),appState:Object(f.a)({},t,{currentItemFont:"".concat(n,"px ").concat(t.currentItemFont.split("px ")[1])})}},commitToHistory:function(){return!0},PanelComponent:function(e){var t=e.elements,n=e.appState,a=e.updateData;return g.a.createElement("fieldset",null,g.a.createElement("legend",null,je("labels.fontSize")),g.a.createElement(Nt,{group:"font-size",options:[{value:16,text:je("labels.small")},{value:20,text:je("labels.medium")},{value:28,text:je("labels.large")},{value:36,text:je("labels.veryLarge")}],value:Kt(n.editingElement,t,(function(e){return _(e)&&+e.font.split("px ")[0]}),+(n.currentItemFont||"20px Virgil").split("px ")[0]),onChange:function(e){return a(e)}}))}},Jt={name:"changeFontFamily",perform:function(e,t,n){return{elements:Wt(e,(function(e){if(_(e)){var t=Object(f.a)({},e,{shape:null,font:"".concat(e.font.split("px ")[0],"px ").concat(n)});return J(t),t}return e})),appState:Object(f.a)({},t,{currentItemFont:"".concat(t.currentItemFont.split("px ")[0],"px ").concat(n)})}},commitToHistory:function(){return!0},PanelComponent:function(e){var t=e.elements,n=e.appState,a=e.updateData;return g.a.createElement("fieldset",null,g.a.createElement("legend",null,je("labels.fontFamily")),g.a.createElement(Nt,{group:"font-family",options:[{value:"Virgil",text:je("labels.handDrawn")},{value:"Helvetica",text:je("labels.normal")},{value:"Cascadia",text:je("labels.code")}],value:Kt(n.editingElement,t,(function(e){return _(e)&&e.font.split("px ")[1]}),(n.currentItemFont||"20px Virgil").split("px ")[1]),onChange:function(e){return a(e)}}))}},Zt=(g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 512 512"},g.a.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 448 512"},g.a.createElement("path",{fill:"currentColor",d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}))),$t=g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 576 512"},g.a.createElement("path",{fill:"currentColor",d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"})),Qt=(g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 384 512"},g.a.createElement("path",{fill:"currentColor",d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"})),g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 384 512"},g.a.createElement("path",{fill:"currentColor",d:"M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z"}))),en=g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 448 512"},g.a.createElement("path",{fill:"currentColor",d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"})),tn=(g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 512 512"},g.a.createElement("path",{fill:"currentColor",d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"})),g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 576 512"},g.a.createElement("path",{fill:"currentColor",d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"}))),nn=g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 448 512"},g.a.createElement("path",{fill:"currentColor",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})),an=g.a.createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 448 512"},g.a.createElement("path",{fill:"currentColor",d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})),rn=(n(21),g.a.forwardRef((function(e,t){var n=g.a.useRef(null);g.a.useImperativeHandle(t,(function(){return n.current}));var a="ToolIcon_size_".concat(e.size||"m");return"button"===e.type?g.a.createElement("button",{className:"ToolIcon_type_button ToolIcon ".concat(a),title:e.title,"aria-label":e["aria-label"],type:"button",onClick:e.onClick,ref:n},g.a.createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},e.icon||e.label)):g.a.createElement("label",{className:"ToolIcon",title:e.title},g.a.createElement("input",{className:"ToolIcon_type_radio ".concat(a),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],id:e.id,onChange:e.onChange,checked:e.checked,ref:n}),g.a.createElement("div",{className:"ToolIcon__icon"},e.icon,e.keyBindingLabel&&g.a.createElement("span",{className:"ToolIcon__keybinding"},e.keyBindingLabel)))}))),on={name:"changeViewBackgroundColor",perform:function(e,t,n){return{appState:Object(f.a)({},t,{viewBackgroundColor:n})}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return g.a.createElement("div",{style:{position:"relative"}},g.a.createElement(Ht,{label:je("labels.canvasBackground"),type:"canvasBackground",color:t.viewBackgroundColor,onChange:function(e){return n(e)}}))},commitToHistory:function(){return!0}},ln={name:"clearCanvas",commitToHistory:function(){return!0},perform:function(){return{elements:[],appState:le()}},PanelComponent:function(e){var t=e.updateData;return g.a.createElement(rn,{type:"button",icon:en,title:je("buttons.clearReset"),"aria-label":je("buttons.clearReset"),onClick:function(){window.confirm(je("alerts.clearReset"))&&(window.handle=null,t(null))}})}},cn="Minus",sn="Equal",un="Digit0",dn="NumpadSubtract",pn="NumpadAdd",mn="Numpad0",fn={name:"zoomIn",perform:function(e,t){return{appState:Object(f.a)({},t,{zoom:me(t.zoom+.1)})}},PanelComponent:function(e){var t=e.updateData;return g.a.createElement(rn,{type:"button",icon:nn,title:je("buttons.zoomIn"),"aria-label":je("buttons.zoomIn"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===sn||e.code===pn)&&(e[G.META]||e.shiftKey)}},hn={name:"zoomOut",perform:function(e,t){return{appState:Object(f.a)({},t,{zoom:me(t.zoom-.1)})}},PanelComponent:function(e){var t=e.updateData;return g.a.createElement(rn,{type:"button",icon:an,title:je("buttons.zoomOut"),"aria-label":je("buttons.zoomOut"),onClick:function(){t(null)}})},keyTest:function(e){return(e.code===cn||e.code===dn)&&(e[G.META]||e.shiftKey)}},gn={name:"resetZoom",perform:function(e,t){return{appState:Object(f.a)({},t,{zoom:1})}},keyTest:function(e){return(e.code===un||e.code===mn)&&(e[G.META]||e.shiftKey)}},vn={name:"finalize",perform:function(e,t){var n=te(e);return window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur(),t.multiElement&&(t.multiElement.points=t.multiElement.points.slice(0,t.multiElement.points.length-1),Z(t.multiElement)&&(n=n.slice(0,-1)),t.multiElement.shape=null),t.elementLocked&&t.multiElement||M(),{elements:n,appState:Object(f.a)({},t,{elementType:t.elementLocked&&t.multiElement?t.elementType:"selection",draggingElement:null,multiElement:null})}},keyTest:function(e,t){return e.key===G.ESCAPE&&!t.draggingElement&&null===t.multiElement||(e.key===G.ESCAPE||e.key===G.ENTER)&&null!==t.multiElement}},yn=(n(42),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleFocus=function(e){O(e.currentTarget)},n.handleBlur=function(e){var t=e.currentTarget.innerText.trim();t!==n.props.value&&n.props.onChange(t),A()},n.handleKeyDown=function(e){if("Enter"===e.key){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return g.a.createElement("span",{suppressContentEditableWarning:!0,contentEditable:"true","data-type":"wysiwyg",className:"ProjectName",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)}}]),t}(h.Component)),bn={name:"changeProjectName",perform:function(e,t,n){return{appState:Object(f.a)({},t,{name:n})}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return g.a.createElement(yn,{label:je("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(e){return n(e)}})}},kn={name:"changeExportBackground",perform:function(e,t,n){return{appState:Object(f.a)({},t,{exportBackground:n})}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return g.a.createElement("label",null,g.a.createElement("input",{type:"checkbox",checked:t.exportBackground,onChange:function(e){n(e.target.checked)}})," ",je("labels.withBackground"))}},En={name:"saveScene",perform:function(e,t,n){return function(e,t){return Ze.apply(this,arguments)}(e,t).catch((function(e){return console.error(e)})),{}},PanelComponent:function(e){var t=e.updateData;return g.a.createElement(rn,{type:"button",icon:Zt,title:je("buttons.save"),"aria-label":je("buttons.save"),onClick:function(){return t(null)}})}},wn={name:"loadScene",perform:function(e,t,n){return{elements:n.elements,appState:n.appState}},PanelComponent:function(e){var t=e.updateData;return g.a.createElement(rn,{type:"button",icon:$t,title:je("buttons.load"),"aria-label":je("buttons.load"),onClick:function(){(function(){return $e.apply(this,arguments)})().then((function(e){var n=e.elements,a=e.appState;t({elements:n,appState:a})})).catch((function(e){return console.error(e)}))}})}},xn="{}",Sn={name:"copyStyles",perform:function(e){var t=e.find((function(e){return e.isSelected}));return t&&(xn=JSON.stringify(t)),{}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[G.META]&&e.shiftKey&&"C"===e.key},contextMenuOrder:0},Cn={name:"pasteStyles",perform:function(e){var t=JSON.parse(xn);return{elements:e.map((function(e){if(e.isSelected){var n=Object(f.a)({},e,{shape:null,backgroundColor:null===t||void 0===t?void 0:t.backgroundColor,strokeWidth:null===t||void 0===t?void 0:t.strokeWidth,strokeColor:null===t||void 0===t?void 0:t.strokeColor,fillStyle:null===t||void 0===t?void 0:t.fillStyle,opacity:null===t||void 0===t?void 0:t.opacity,roughness:null===t||void 0===t?void 0:t.roughness});return _(n)&&(n.font=null===t||void 0===t?void 0:t.font,J(n)),n}return e}))}},commitToHistory:function(){return!0},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[G.META]&&e.shiftKey&&"V"===e.key},contextMenuOrder:1};n(43);function Tn(e){var t=e.children,n=e.padding;return g.a.createElement("div",{className:"Island",style:{"--padding":n}},t)}n(44);var On=function(e){var t=e.children,n=e.gap,a=e.align,r=e.justifyContent;return g.a.createElement("div",{className:"Stack Stack_horizontal",style:{"--gap":n,alignItems:a,justifyContent:r}},t)},An=function(e){var t=e.children,n=e.gap,a=e.align,r=e.justifyContent;return g.a.createElement("div",{className:"Stack Stack_vertical",style:{"--gap":n,justifyItems:a,justifyContent:r}},t)};n(45);function zn(e){var t=e.children,n=e.side;return g.a.createElement("div",{className:"FixedSideContainer FixedSideContainer_side_".concat(n)},t)}var Mn={CHECKED:g.a.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},g.a.createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),UNCHECKED:g.a.createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",style:{left:2}},g.a.createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"}))};function Bn(e){var t="ToolIcon_size_".concat(e.size||"m");return g.a.createElement("label",{className:"ToolIcon ToolIcon__lock ".concat(t),title:e.title},g.a.createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,id:e.id,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),g.a.createElement("div",{className:"ToolIcon__icon"},e.checked?Mn.CHECKED:Mn.UNCHECKED))}n(46),n(47);function jn(e){var t=function(){var e=Object(h.useState)((function(){var e=document.createElement("div");return document.body.appendChild(e),e})),t=Object(a.a)(e,1)[0];return Object(h.useEffect)((function(){return function(){document.body.removeChild(t)}}),[t]),t}();return Object(v.createPortal)(g.a.createElement("div",{className:"Modal",role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===G.ESCAPE&&(t.nativeEvent.stopImmediatePropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy},g.a.createElement("div",{className:"Modal__background",onClick:e.onCloseRequest}),g.a.createElement("div",{className:"Modal__content",style:{maxWidth:e.maxWidth}},e.children)),t)}var Rn=[1,2,3],Ln=Rn.includes(devicePixelRatio)?devicePixelRatio:1;function Nn(e){var t=e.elements,n=e.appState,r=e.exportPadding,o=void 0===r?10:r,i=e.actionManager,l=e.onExportToPng,c=e.onExportToSvg,s=e.onExportToClipboard,u=e.onCloseRequest,d=re(t),p=Object(h.useState)(Ln),m=Object(a.a)(p,2),f=m[0],v=m[1],y=Object(h.useState)(d),b=Object(a.a)(y,2),k=b[0],E=b[1],w=Object(h.useRef)(null),x=n.exportBackground,S=n.viewBackgroundColor,C=Object(h.useRef)(null),T=Object(h.useRef)(null),O=Object(h.useRef)(null),A=k?oe(t):t;return Object(h.useEffect)((function(){E(d)}),[d]),Object(h.useEffect)((function(){var e=w.current,t=xe(A,{exportBackground:x,viewBackgroundColor:S,exportPadding:o,scale:f});return null===e||void 0===e||e.appendChild(t),function(){null===e||void 0===e||e.removeChild(t)}}),[A,x,o,S,f]),Object(h.useEffect)((function(){var e;null===(e=C.current)||void 0===e||e.focus()}),[]),g.a.createElement("div",{className:"ExportDialog__dialog",onKeyDown:function(e){if(e.key===G.TAB){var t=document.activeElement;if(e.shiftKey){var n;if(t===C.current)null===(n=T.current)||void 0===n||n.focus(),e.preventDefault()}else{var a,r;if(t===T.current)null===(a=C.current)||void 0===a||a.focus(),e.preventDefault();if(t===O.current)null===(r=T.current)||void 0===r||r.focus(),e.preventDefault()}}}},g.a.createElement(Tn,{padding:4},g.a.createElement("button",{className:"ExportDialog__close",onClick:u,"aria-label":je("buttons.close"),ref:T},"\u2573"),g.a.createElement("h2",{id:"export-title"},je("buttons.export")),g.a.createElement("div",{className:"ExportDialog__preview",ref:w}),g.a.createElement("div",{className:"ExportDialog__actions"},g.a.createElement(An,{gap:1},g.a.createElement(On,{gap:2},g.a.createElement(rn,{type:"button",label:"PNG",title:je("buttons.exportToPng"),"aria-label":je("buttons.exportToPng"),onClick:function(){return l(A,f)},ref:C}),g.a.createElement(rn,{type:"button",label:"SVG",title:je("buttons.exportToSvg"),"aria-label":je("buttons.exportToSvg"),onClick:function(){return c(A,f)}}),Pe&&g.a.createElement(rn,{type:"button",icon:Qt,title:je("buttons.copyToClipboard"),"aria-label":je("buttons.copyToClipboard"),onClick:function(){return s(A,f)}}))),i.renderAction("changeProjectName"),g.a.createElement(An,{gap:1},g.a.createElement("div",{className:"ExportDialog__scales"},g.a.createElement(On,{gap:2,align:"baseline"},Rn.map((function(e){return g.a.createElement(rn,{key:e,size:"s",type:"radio",icon:"x".concat(e),name:"export-canvas-scale","aria-label":"Scale ".concat(e," x"),id:"export-canvas-scale",checked:f===e,onChange:function(){return v(e)}})})))),i.renderAction("changeExportBackground"),d&&g.a.createElement("div",null,g.a.createElement("label",null,g.a.createElement("input",{type:"checkbox",checked:k,onChange:function(e){return E(e.currentTarget.checked)},ref:O})," ",je("labels.onlySelected")))))))}function Fn(e){var t=e.elements,n=e.appState,r=e.exportPadding,o=void 0===r?10:r,i=e.actionManager,l=e.onExportToPng,c=e.onExportToSvg,s=e.onExportToClipboard,u=Object(h.useState)(!1),d=Object(a.a)(u,2),p=d[0],m=d[1],f=Object(h.useRef)(null),v=g.a.useCallback((function(){var e;m(!1),null===(e=f.current)||void 0===e||e.focus()}),[]);return g.a.createElement(g.a.Fragment,null,g.a.createElement(rn,{onClick:function(){return m(!0)},icon:tn,type:"button","aria-label":je("buttons.export"),title:je("buttons.export"),ref:f}),p&&g.a.createElement(jn,{maxWidth:800,onCloseRequest:v,labelledBy:"export-title"},g.a.createElement(Nn,{elements:t,appState:n,exportPadding:o,actionManager:i,onExportToPng:l,onExportToSvg:c,onExportToClipboard:s,onCloseRequest:v})))}function In(e){var t=e.onChange,n=e.languages,a=e.currentLanguage;return g.a.createElement(g.a.Fragment,null,g.a.createElement("select",{className:"language-select",onChange:function(e){var n=e.target;return t(n.value)},value:a,"aria-label":je("buttons.selectLanguage")},n.map((function(e){return g.a.createElement("option",{key:e.lng,value:e.lng},e.label)}))))}n(48);var Pn=function(e){var t=function(e){var t=e.elementType,n=e.multiMode,a=e.isResizing,r=e.elements;if("arrow"===t||"line"===t)return je(n?"hints.linearElementMulti":"hints.linearElement");if(a){var o=oe(r);return 1===o.length&&("arrow"===o[0].type||"line"===o[0].type)&&o[0].points.length>2?null:je("hints.resize")}return null}({elementType:e.elementType,multiMode:e.multiMode,isResizing:e.isResizing,elements:e.elements});return t?g.a.createElement("div",{className:"HintViewer"},t):null};n.d(t,"viewportCoordsToSceneCoords",(function(){return _n})),n.d(t,"sceneCoordsToViewportCoords",(function(){return Gn})),n.d(t,"App",(function(){return ea}));var Hn={elements:[]}.elements,Dn={history:new ft}.history;function Wn(e){"selection"===e?M():document.documentElement.style.cursor="text"===e?Kn.TEXT:Kn.CROSSHAIR}var Kn={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing"},Yn=0,Xn=1,Vn=null;function _n(e,t,n){var a=e.clientX,r=e.clientY,o=t.scrollX,i=t.scrollY,l=t.zoom,c=de(n);return{x:c.x+(a-c.x)/l-o,y:c.y+(r-c.y)/l-i}}function Gn(e,t,n){var a=e.sceneX,r=e.sceneY,o=t.scrollX,i=t.scrollY,l=t.zoom,c=de(n);return{x:c.x-(c.x-a-o)*l,y:c.y-(c.y-r-i)*l}}var qn=0,Un=0,Jn=!1,Zn=!1,$n=!1,Qn=g.a.memo((function(e){var t=e.actionManager,n=e.appState,a=e.setAppState,r=e.canvas,o=e.elements,i=e.language,l=e.setElements;return g.a.createElement(g.a.Fragment,null,g.a.createElement(zn,{side:"top"},g.a.createElement("div",{className:"App-menu App-menu_top"},g.a.createElement(An,{gap:4,align:"end"},g.a.createElement("section",{className:"App-right-menu","aria-labelledby":"canvas-actions-title"},g.a.createElement("h2",{className:"visually-hidden",id:"canvas-actions-title"},je("headings.canvasActions")),g.a.createElement(Tn,{padding:4},g.a.createElement(An,{gap:4},g.a.createElement(On,{justifyContent:"space-between"},t.renderAction("loadScene"),t.renderAction("saveScene"),g.a.createElement(Fn,{elements:o,appState:n,actionManager:t,onExportToPng:function(e,t){r&&tt("png",e,r,{exportBackground:n.exportBackground,name:n.name,viewBackgroundColor:n.viewBackgroundColor,scale:t})},onExportToSvg:function(e,t){r&&tt("svg",e,r,{exportBackground:n.exportBackground,name:n.name,viewBackgroundColor:n.viewBackgroundColor,scale:t})},onExportToClipboard:function(e,t){r&&tt("clipboard",e,r,{exportBackground:n.exportBackground,name:n.name,viewBackgroundColor:n.viewBackgroundColor,scale:t})}}),t.renderAction("clearCanvas")),t.renderAction("changeViewBackgroundColor")))),g.a.createElement("section",{className:"App-right-menu","aria-labelledby":"selected-shape-title"},g.a.createElement("h2",{className:"visually-hidden",id:"selected-shape-title"},je("headings.selectedShapeActions")),function(e){var a=n.elementType,r=n.editingElement,o=r?[r]:oe(e);return o.length||"selection"!==a?g.a.createElement(Tn,{padding:4},g.a.createElement("div",{className:"panelColumn"},t.renderAction("changeStrokeColor"),(ct(a)||o.some((function(e){return ct(e.type)})))&&g.a.createElement(g.a.Fragment,null,t.renderAction("changeBackgroundColor"),t.renderAction("changeFillStyle")),(st(a)||o.some((function(e){return st(e.type)})))&&g.a.createElement(g.a.Fragment,null,t.renderAction("changeStrokeWidth"),t.renderAction("changeSloppiness")),(ut(a)||o.some((function(e){return ut(e.type)})))&&g.a.createElement(g.a.Fragment,null,t.renderAction("changeFontSize"),t.renderAction("changeFontFamily")),t.renderAction("changeOpacity"),g.a.createElement("fieldset",null,g.a.createElement("legend",null,je("labels.layers")),g.a.createElement("div",{className:"buttonList"},t.renderAction("sendToBack"),t.renderAction("sendBackward"),t.renderAction("bringToFront"),t.renderAction("bringForward"))),t.renderAction("deleteSelectedElements"))):null}(o))),g.a.createElement("section",{"aria-labelledby":"shapes-title"},g.a.createElement(An,{gap:4,align:"start"},g.a.createElement(On,{gap:1},g.a.createElement(Tn,{padding:1},g.a.createElement("h2",{className:"visually-hidden",id:"shapes-title"},je("headings.shapes")),g.a.createElement(On,{gap:1},g.a.createElement(g.a.Fragment,null,pt.map((function(e,t){var r=e.value,i=e.icon,c=je("toolBar.".concat(r));return g.a.createElement(rn,{key:r,type:"radio",icon:i,checked:n.elementType===r,name:"editor-current-shape",title:"".concat(S(c)," \u2014 ").concat(S(r)[0],", ").concat(t+1),keyBindingLabel:"".concat(t+1),"aria-label":S(c),"aria-keyshortcuts":"".concat(c[0]," ").concat(t+1),onChange:function(){a({elementType:r,multiElement:null}),l(te(o)),document.documentElement.style.cursor="text"===r?Kn.TEXT:Kn.CROSSHAIR,a({})}})}))))),g.a.createElement(Bn,{checked:n.elementLocked,onChange:function(){a({elementLocked:!n.elementLocked,elementType:n.elementLocked?"selection":n.elementType})},title:je("toolBar.lock")})))),g.a.createElement("div",null)),g.a.createElement("div",{className:"App-menu App-menu_bottom"},g.a.createElement(An,{gap:2},g.a.createElement("section",{"aria-labelledby":"canvas-zoom-actions-title"},g.a.createElement("h2",{className:"visually-hidden",id:"canvas-zoom-actions-title"},je("headings.canvasActions")),g.a.createElement(Tn,{padding:1},g.a.createElement(An,{gap:1},g.a.createElement(On,{gap:1,align:"center"},t.renderAction("zoomIn"),t.renderAction("zoomOut"),g.a.createElement("div",{style:{marginLeft:4}},(100*n.zoom).toFixed(0),"%")))))))),g.a.createElement("footer",{role:"contentinfo"},g.a.createElement(Pn,{elementType:n.elementType,multiMode:null!==n.multiElement,isResizing:n.isResizing,elements:o}),g.a.createElement(In,{onChange:function(e){Me(e),a({})},languages:Oe,currentLanguage:i}),n.scrolledOutside&&g.a.createElement("button",{className:"scroll-back-to-content",onClick:function(){a(Object(f.a)({},Je(o)))}},je("buttons.scrollBackToContent"))))}),(function(e,t){var n=function(e){e.draggingElement,e.resizingElement,e.multiElement,e.editingElement,e.isResizing,e.cursorX,e.cursorY;return Object(m.a)(e,["draggingElement","resizingElement","multiElement","editingElement","isResizing","cursorX","cursorY"])},a=n(e.appState),r=n(t.appState),o=Object.keys(a);return e.language===t.language&&e.elements===t.elements&&o.every((function(e){return a[e]===r[e]}))})),ea=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).canvas=null,n.rc=null,n.actionManager=void 0,n.canvasOnlyActions=void 0,n.syncActionResult=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.unmounted||(e.elements&&(Hn=e.elements,t&&Dn.resumeRecording(),n.setState({})),e.appState&&(t&&Dn.resumeRecording(),n.setState(Object(f.a)({},e.appState))))},n.onCut=function(e){C(e.target)||(He(Hn),Hn=ne(Hn),Dn.resumeRecording(),n.setState({}),e.preventDefault())},n.onCopy=function(e){C(e.target)||(He(Hn),e.preventDefault())},n.onUnload=function(){Jn=!1,n.saveDebounced(),n.saveDebounced.flush()},n.disableEvent=function(e){e.preventDefault()},n.unmounted=!1,n.state=le(),n.onResize=function(){n.setState({})},n.updateCurrentCursorPosition=function(e){qn=e.x,Un=e.y},n.onKeyDown=function(e){var t;if(!(C(e.target)&&e.key!==G.ESCAPE||q(e.key)&&(t=e.target,t instanceof HTMLElement&&"wysiwyg"===t.dataset.type||t instanceof HTMLBRElement||t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement||t instanceof HTMLSelectElement))&&!n.actionManager.handleKeyDown(e)){var a=function(e){var t;return(null===(t=pt.find((function(t,n){return t.value[0]===e||e===(n+1).toString()})))||void 0===t?void 0:t.value)||"selection"}(e.key);if(q(e.key)){var r=e.shiftKey?5:1;Hn=Hn.map((function(t){if(t.isSelected){var n=Object(f.a)({},t);return e.key===G.ARROW_LEFT?n.x-=r:e.key===G.ARROW_RIGHT?n.x+=r:e.key===G.ARROW_UP?n.y-=r:e.key===G.ARROW_DOWN&&(n.y+=r),n}return t})),n.setState({}),e.preventDefault()}else if(!mt.includes(e.key.toLowerCase())||e.ctrlKey||e.altKey||e.metaKey||null!==n.state.draggingElement)if(e[G.META]&&/z/i.test(e.key)){if(e.preventDefault(),n.state.multiElement||n.state.resizingElement||n.state.editingElement||n.state.draggingElement)return;if(e.shiftKey){var o=Dn.redoOnce();null!==o&&(Hn=o.elements,n.setState(Object(f.a)({},o.appState)))}else{var i=Dn.undoOnce();null!==i&&(Hn=i.elements,n.setState(Object(f.a)({},i.appState)))}}else e.key!==G.SPACE||$n||(Jn=!0,document.documentElement.style.cursor=Kn.GRABBING);else n.selectShapeTool(a)}},n.onKeyUp=function(e){e.key===G.SPACE&&("selection"===n.state.elementType?M():(Hn=te(Hn),document.documentElement.style.cursor="text"===n.state.elementType?Kn.TEXT:Kn.CROSSHAIR,n.setState({})),Jn=!1)},n.copyToAppClipboard=function(){He(Hn)},n.pasteFromClipboard=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,r,l,c,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=document.activeElement,r=document.elementFromPoint(qn,Un),!(!t||r instanceof HTMLCanvasElement&&!C(a))){e.next=9;break}return e.next=5,Ke(t);case 5:(l=e.sent).elements?n.addElementsFromPaste(l.elements):l.text&&(c=_n({clientX:qn,clientY:Un},n.state,n.canvas),s=c.x,u=c.y,(d=j(B("text",s,u,n.state.currentItemStrokeColor,n.state.currentItemBackgroundColor,n.state.currentItemFillStyle,n.state.currentItemStrokeWidth,n.state.currentItemRoughness,n.state.currentItemOpacity),l.text,n.state.currentItemFont)).isSelected=!0,Hn=[].concat(Object(i.a)(te(Hn)),[d]),Dn.resumeRecording()),n.selectShapeTool("selection"),null===t||void 0===t||t.preventDefault();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setAppState=function(e){n.setState(e)},n.setElements=function(e){Hn=e,n.setState({})},n.handleWheel=function(e){e.preventDefault();var t=e.deltaX,a=e.deltaY;if(e[G.META]){var r=Math.sign(a),o=Math.abs(a);return o>10&&(o=10),o*=r,void n.setState((function(e){return{zoom:me(e.zoom-o/100)}}))}n.setState((function(e){var n=e.zoom,r=e.scrollX,o=e.scrollY;return{scrollX:r-t/n,scrollY:o-a/n}}))},n.addElementsFromPaste=function(e){Hn=te(Hn);var t=H(e),r=Object(a.a)(t,4),o=r[0],l=r[1],c=r[2],s=r[3],u=z(o,c)/2,d=z(l,s)/2,p=_n({clientX:qn,clientY:Un},n.state,n.canvas),m=p.x,f=p.y,h=m-u,g=f-d;Hn=[].concat(Object(i.a)(Hn),Object(i.a)(e.map((function(e){var t=R(e);return t.x+=h-o,t.y+=g-l,t})))),Dn.resumeRecording(),n.setState({})},n.saveDebounced=function(e,t){var n,a=0,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n=o,clearTimeout(a),a=window.setTimeout((function(){return e.apply(void 0,o)}),t)};return r.flush=function(){clearTimeout(a),e.apply(void 0,Object(i.a)(n))},r}((function(){ot(Hn.filter((function(e){return"selection"!==e.type})),n.state)}),300),n.actionManager=new wt(n.syncActionResult,(function(){return n.state}),(function(){return Hn})),n.actionManager.registerAction(vn),n.actionManager.registerAction(xt),n.actionManager.registerAction(jt),n.actionManager.registerAction(Rt),n.actionManager.registerAction(Mt),n.actionManager.registerAction(Bt),n.actionManager.registerAction(Lt),n.actionManager.registerAction(Yt),n.actionManager.registerAction(Xt),n.actionManager.registerAction(Vt),n.actionManager.registerAction(_t),n.actionManager.registerAction(qt),n.actionManager.registerAction(Gt),n.actionManager.registerAction(Ut),n.actionManager.registerAction(Jt),n.actionManager.registerAction(on),n.actionManager.registerAction(ln),n.actionManager.registerAction(fn),n.actionManager.registerAction(hn),n.actionManager.registerAction(gn),n.actionManager.registerAction(bn),n.actionManager.registerAction(kn),n.actionManager.registerAction(En),n.actionManager.registerAction(wn),n.actionManager.registerAction(Sn),n.actionManager.registerAction(Cn),n.canvasOnlyActions=[Lt],n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.addEventListener("copy",this.onCopy),document.addEventListener("paste",this.pasteFromClipboard),document.addEventListener("cut",this.onCut),document.addEventListener("keydown",this.onKeyDown,!1),document.addEventListener("keyup",this.onKeyUp,{passive:!0}),document.addEventListener("mousemove",this.updateCurrentCursorPosition),window.addEventListener("resize",this.onResize,!1),window.addEventListener("unload",this.onUnload,!1),window.addEventListener("blur",this.onUnload,!1),window.addEventListener("dragover",this.disableEvent,!1),window.addEventListener("drop",this.disableEvent,!1),e.next=13,it();case 13:t=e.sent,this.syncActionResult(t);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unmounted=!0,document.removeEventListener("copy",this.onCopy),document.removeEventListener("paste",this.pasteFromClipboard),document.removeEventListener("cut",this.onCut),document.removeEventListener("keydown",this.onKeyDown,!1),document.removeEventListener("mousemove",this.updateCurrentCursorPosition,!1),document.removeEventListener("keyup",this.onKeyUp),window.removeEventListener("resize",this.onResize,!1),window.removeEventListener("unload",this.onUnload,!1),window.removeEventListener("blur",this.onUnload,!1),window.removeEventListener("dragover",this.disableEvent,!1),window.removeEventListener("drop",this.disableEvent,!1)}},{key:"selectShapeTool",value:function(e){var t;Jn||Wn(e),(t=document.activeElement)instanceof HTMLElement&&t.className.includes("ToolIcon")&&document.activeElement.blur(),"selection"!==e&&(Hn=te(Hn)),this.setState({elementType:e})}},{key:"render",value:function(){var e=this,t=window.innerWidth,n=window.innerHeight,r=window.devicePixelRatio,o=t*r,l=n*r;return g.a.createElement("div",{className:"container"},g.a.createElement(Qn,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:Hn,setElements:this.setElements,language:Ae.lng}),g.a.createElement("main",null,g.a.createElement("canvas",{id:"canvas",style:{width:t,height:n},width:o,height:l,ref:function(t){var n,a;null!==t?(e.canvas=t,e.rc=b.a.canvas(e.canvas),e.canvas.addEventListener("wheel",e.handleWheel,{passive:!1}),null===(n=e.canvas.getContext("2d"))||void 0===n||n.setTransform(r,0,0,r,0,0)):null===(a=e.canvas)||void 0===a||a.removeEventListener("wheel",e.handleWheel)},onContextMenu:function(t){t.preventDefault();var n=_n(t,e.state,e.canvas),a=n.x,r=n.y,o=dt(Hn,a,r,e.state.zoom);o?(o.isSelected||(Hn=te(Hn),o.isSelected=!0,e.setState({})),Et({options:[navigator.clipboard&&{label:je("labels.copy"),action:e.copyToAppClipboard},navigator.clipboard&&{label:je("labels.paste"),action:function(){return e.pasteFromClipboard(null)}}].concat(Object(i.a)(e.actionManager.getContextMenuItems((function(t){return!e.canvasOnlyActions.includes(t)})))),top:t.clientY,left:t.clientX})):Et({options:[navigator.clipboard&&{label:je("labels.paste"),action:function(){return e.pasteFromClipboard(null)}}].concat(Object(i.a)(e.actionManager.getContextMenuItems((function(t){return e.canvasOnlyActions.includes(t)})))),top:t.clientY,left:t.clientX})},onMouseDown:function(t){if(null!==Vn&&Vn(t),!Zn){if(!$n&&(t.button===Xn||t.button===Yn&&Jn)){$n=!0,Zn=!0,document.documentElement.style.cursor=Kn.GRABBING;var n=t.clientX,r=t.clientY,c=function(t){var a=n-t.clientX,o=r-t.clientY;n=t.clientX,r=t.clientY,e.setState({scrollX:e.state.scrollX-a/e.state.zoom,scrollY:e.state.scrollY-o/e.state.zoom})},s=Vn=function(){Vn=null,Zn=!1,$n=!1,Jn||Wn(e.state.elementType),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s),window.removeEventListener("blur",s)};return window.addEventListener("blur",s),window.addEventListener("mousemove",c,{passive:!0}),void window.addEventListener("mouseup",s)}if(t.button===Yn){t.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur();var u=function(e,t,n,r,o,i){var l=ee(e,r,o,{scrollX:i.scrollX,scrollY:i.scrollY,zoom:i.zoom}),c=[l.horizontal,l.vertical].map((function(e){return e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),s=Object(a.a)(c,2);return{isOverHorizontalScrollBar:s[0],isOverVerticalScrollBar:s[1]}}(Hn,t.clientX/window.devicePixelRatio,t.clientY/window.devicePixelRatio,o/window.devicePixelRatio,l/window.devicePixelRatio,e.state),d=u.isOverHorizontalScrollBar,p=u.isOverVerticalScrollBar,m=_n(t,e.state,e.canvas),h=m.x,g=m.y,v=h,y=g,b=B(e.state.elementType,h,g,e.state.currentItemStrokeColor,e.state.currentItemBackgroundColor,e.state.currentItemFillStyle,e.state.currentItemStrokeWidth,e.state.currentItemRoughness,e.state.currentItemOpacity);_(b)&&(b=j(b,"",e.state.currentItemFont));var k=!1,E=!1,w=!1,x=null,S=!1;if("selection"===e.state.elementType){var C,T=X(Hn,{x:h,y:g},e.state.zoom);if(1===oe(Hn).length&&T)e.setState({resizingElement:T?T.element:null}),k=T.resizeHandle,document.documentElement.style.cursor=V(T),E=!0;else(null===(C=x=dt(Hn,h,g,e.state.zoom))||void 0===C?void 0:C.isSelected)||t.shiftKey||(Hn=te(Hn)),x&&(x.isSelected||(x.isSelected=!0,Hn=Hn.slice(),S=!0),t.altKey&&(Hn=[].concat(Object(i.a)(Hn.map((function(e){return Object(f.a)({},e,{isSelected:!1})}))),Object(i.a)(oe(Hn).map((function(e){var t=R(e);return t.isSelected=!0,t}))))))}else Hn=te(Hn);if(_(b)){var O;if("text"===(null===(O=e.state.editingElement)||void 0===O?void 0:O.type))return;var A=t.clientX,L=t.clientY;if(!t.altKey){var N=e.getTextWysiwygSnappedToCenterPosition(h,g);N&&(b.x=N.elementCenterX,b.y=N.elementCenterY,A=N.wysiwygX,L=N.wysiwygY)}var I=function(){e.setState({draggingElement:null,editingElement:null})};return U({initText:"",x:A,y:L,strokeColor:e.state.currentItemStrokeColor,opacity:e.state.currentItemOpacity,font:e.state.currentItemFont,zoom:e.state.zoom,onSubmit:function(t){t&&(Hn=[].concat(Object(i.a)(Hn),[Object(f.a)({},j(b,t,e.state.currentItemFont),{isSelected:!0})])),e.state.elementLocked&&Wn(e.state.elementType),Dn.resumeRecording(),I()},onCancel:function(){I()}}),M(),void(e.state.elementLocked?e.setState({editingElement:b}):e.setState({editingElement:b,elementType:"selection"}))}if("arrow"===e.state.elementType||"line"===e.state.elementType)if(e.state.multiElement){var P=e.state.multiElement,H=P.x,D=P.y;P.isSelected=!0,P.points.push([h-H,g-D]),P.shape=null}else b.isSelected=!1,b.points.push([0,0]),b.shape=null,Hn=[].concat(Object(i.a)(Hn),[b]),e.setState({draggingElement:b});else"selection"===b.type?e.setState({selectionElement:b,draggingElement:b}):(Hn=[].concat(Object(i.a)(Hn),[b]),e.setState({multiElement:null,draggingElement:b}));var W=h,K=g;(d||p)&&(W=t.clientX,K=t.clientY);var Y=null,G=function(e,t,n,a,r,o,i){if(i){var l=t[0]+e.x,c=t[1]+e.y,s=$(e.type,r-e.x-t[0],o-e.y-t[1]),u=s.width,d=s.height,p=e.x+u+t[0],m=e.y+d+t[1];e.x=p,e.y=m,t[0]=l-e.x,t[1]=c-e.y}else e.x+=n,e.y+=a,t[0]-=n,t[1]-=a},q=function(e,t,n,a,r,o,i){if(i){var l=$(e.type,r-e.x,o-e.y),c=l.width,s=l.height;t[0]=c,t[1]=s}else t[0]+=n,t[1]+=a},J=function(t){var n;if(t.target instanceof HTMLElement){if(d){var r=t.clientX,o=r-W;return e.setState({scrollX:e.state.scrollX-o/e.state.zoom}),void(W=r)}if(p){var l=t.clientY,c=l-K;return e.setState({scrollY:e.state.scrollY-c/e.state.zoom}),void(K=l)}if(!w&&("arrow"===e.state.elementType||"line"===e.state.elementType)){var s=_n(t,e.state,e.canvas);if(function(e,t,n,a){var r=n-e,o=a-t;return Math.sqrt(r*r+o*o)}(s.x,s.y,v,y)<10)return}if(E&&e.state.resizingElement){e.setState({isResizing:!0});var u=e.state.resizingElement,m=oe(Hn);if(1===m.length){var f=_n(t,e.state,e.canvas),h=f.x,g=f.y,b=h-W,S=g-K,C=m[0],T="line"===C.type||"arrow"===C.type;switch(k){case"nw":if(T&&2===C.points.length){var O=Object(a.a)(C.points,2)[1];Y||(Y=O[0]<0||O[1]<0?q:G),Y(C,O,b,S,h,g,t.shiftKey)}else C.width-=b,C.x+=b,t.shiftKey?(C.y+=C.height-C.width,C.height=C.width):(C.height-=S,C.y+=S);break;case"ne":if(T&&2===C.points.length){var A=Object(a.a)(C.points,2)[1];Y||(Y=A[0]>=0?q:G),Y(C,A,b,S,h,g,t.shiftKey)}else C.width+=b,t.shiftKey?(C.y+=C.height-C.width,C.height=C.width):(C.height-=S,C.y+=S);break;case"sw":if(T&&2===C.points.length){var M=Object(a.a)(C.points,2)[1];Y||(Y=M[0]<=0?q:G),Y(C,M,b,S,h,g,t.shiftKey)}else C.width-=b,C.x+=b,t.shiftKey?C.height=C.width:C.height+=S;break;case"se":if(T&&2===C.points.length){var B=Object(a.a)(C.points,2)[1];Y||(Y=B[0]>0||B[1]>0?q:G),Y(C,B,b,S,h,g,t.shiftKey)}else t.shiftKey?(C.width+=b,C.height=C.width):(C.width+=b,C.height+=S);break;case"n":if(C.height-=S,C.y+=S,C.points.length>0)for(var j=C.points.length,R=Object(i.a)(C.points).sort((function(e,t){return e[1]-t[1]})),L=1;L<R.length;++L){R[L][1]-=S/(j-L)}break;case"w":if(C.width-=b,C.x+=b,C.points.length>0)for(var N=C.points.length,I=Object(i.a)(C.points).sort((function(e,t){return e[0]-t[0]})),P=0;P<I.length;++P){I[P][0]-=b/(N-P)}break;case"s":if(C.height+=S,C.points.length>0)for(var H=C.points.length,D=Object(i.a)(C.points).sort((function(e,t){return e[1]-t[1]})),X=1;X<D.length;++X){D[X][1]+=S/(H-X)}break;case"e":if(C.width+=b,C.points.length>0)for(var _=C.points.length,U=Object(i.a)(C.points).sort((function(e,t){return e[0]-t[0]})),J=1;J<U.length;++J){U[J][0]+=b/(_-J)}}return k&&(k=function(e,t){if(e.width>=0&&e.height>=0||"line"===e.type||"arrow"===e.type)return t;if(e.width<0&&e.height<0)switch(t){case"nw":return"se";case"ne":return"sw";case"se":return"nw";case"sw":return"ne"}else if(e.width<0)switch(t){case"nw":return"ne";case"ne":return"nw";case"se":return"sw";case"sw":return"se";case"e":return"w";case"w":return"e"}else switch(t){case"nw":return"sw";case"ne":return"se";case"se":return"ne";case"sw":return"nw";case"n":return"s";case"s":return"n"}return t}(C,k)),Q(C),document.documentElement.style.cursor=V({element:C,resizeHandle:k}),u.x=C.x,u.y=C.y,u.shape=null,W=h,K=g,void e.setState({})}}if(null===(n=x)||void 0===n?void 0:n.isSelected){w=!0;var Z=oe(Hn);if(Z.length>0){var ee=_n(t,e.state,e.canvas),ne=ee.x,ae=ee.y;return Z.forEach((function(e){e.x+=ne-W,e.y+=ae-K})),W=ne,K=ae,void e.setState({})}}var ie=e.state.draggingElement;if(ie){var le=_n(t,e.state,e.canvas),ce=le.x,se=le.y,ue=z(v,ce),de=z(y,se);if("line"===e.state.elementType||"arrow"===e.state.elementType){w=!0;var pe=ie.points,me=ce-ie.x,fe=se-ie.y;if(t.shiftKey&&2===pe.length){var he=$(e.state.elementType,me,fe);me=he.width,fe=he.height}if(1===pe.length)pe.push([me,fe]);else if(pe.length>1){var ge=pe[pe.length-1];ge[0]=me,ge[1]=fe}}else{if(t.shiftKey){var ve=$(e.state.elementType,ue,se<y?-de:de);ue=ve.width,(de=ve.height)<0&&(de=-de)}ie.x=ce<v?v-ue:v,ie.y=se<y?y-de:y,ie.width=ue,ie.height=de}if(ie.shape=null,"selection"===e.state.elementType)!t.shiftKey&&re(Hn)&&(Hn=te(Hn)),function(e,t){var n=F(t),r=Object(a.a)(n,4),o=r[0],i=r[1],l=r[2],c=r[3];return e.filter((function(e){var t=F(e),n=Object(a.a)(t,4),r=n[0],s=n[1],u=n[2],d=n[3];return"selection"!==e.type&&o<=r&&i<=s&&l>=u&&c>=d}))}(Hn,ie).forEach((function(e){e.isSelected=!0}));e.setState({})}}},ne=function t(n){var a=e.state,r=a.draggingElement,o=a.resizingElement,i=a.multiElement,l=a.elementType,c=a.elementLocked;if(e.setState({isResizing:!1,resizingElement:null,selectionElement:null}),Y=null,Vn=null,$n=!1,window.removeEventListener("mousemove",J),window.removeEventListener("mouseup",t),"arrow"!==l&&"line"!==l){if("selection"!==l&&r&&Z(r))return Hn=Hn.slice(0,-1),void e.setState({draggingElement:null});if(Q(r)&&e.setState({}),o&&(Dn.resumeRecording(),e.setState({})),o&&Z(o)&&(Hn=Hn.filter((function(e){return e.id!==o.id}))),!x||w||S||(n.shiftKey?x.isSelected=!1:(Hn=te(Hn),x.isSelected=!0)),null===r)return Hn=te(Hn),void e.setState({});c||(r.isSelected=!0),("selection"!==l||re(Hn))&&Dn.resumeRecording(),c?e.setState({draggingElement:null}):(M(),e.setState({draggingElement:null,elementType:"selection"}))}else if(r.points.length>1&&(Dn.resumeRecording(),e.setState({})),w||!r||i)w&&!i&&(e.state.draggingElement.isSelected=!0,c?e.setState({draggingElement:null}):(M(),e.setState({draggingElement:null,elementType:"selection"})));else{var s=_n(n,e.state,e.canvas),u=s.x,d=s.y;r.points.push([u-r.x,d-r.y]),r.shape=null,e.setState({multiElement:e.state.draggingElement})}};Vn=ne,window.addEventListener("mousemove",J),window.addEventListener("mouseup",ne)}}},onDoubleClick:function(t){M();var n=_n(t,e.state,e.canvas),a=n.x,r=n.y,o=dt(Hn,a,r,e.state.zoom),l=o&&_(o)?o:j(B("text",a,r,e.state.currentItemStrokeColor,e.state.currentItemBackgroundColor,e.state.currentItemFillStyle,e.state.currentItemStrokeWidth,e.state.currentItemRoughness,e.state.currentItemOpacity),"",e.state.currentItemFont);e.setState({editingElement:l});var c=t.clientX,s=t.clientY;if(o&&_(o)){Hn=Hn.filter((function(e){return e.id!==o.id})),e.setState({});var u=o.x+o.width/2,d=o.y+o.height/2,p=Gn({sceneX:u,sceneY:d},e.state,e.canvas);c=p.x,s=p.y,l.x=u,l.y=d}else if(!t.altKey){var m=e.getTextWysiwygSnappedToCenterPosition(a,r);m&&(l.x=m.elementCenterX,l.y=m.elementCenterY,c=m.wysiwygX,s=m.wysiwygY)}var h=function(){e.setState({draggingElement:null,editingElement:null})};U({initText:l.text,x:c,y:s,strokeColor:l.strokeColor,font:l.font,opacity:e.state.currentItemOpacity,zoom:e.state.zoom,onSubmit:function(e){e&&(Hn=[].concat(Object(i.a)(Hn),[Object(f.a)({},j(l,e,l.font),{isSelected:!0})])),Dn.resumeRecording(),h()},onCancel:function(){h()}})},onMouseMove:function(t){if(!Jn&&!Zn){var n=Boolean(t.buttons),a=_n(t,e.state,e.canvas),r=a.x,o=a.y;if(e.state.multiElement){var i=e.state.multiElement,l=i.x,c=i.y,s=i.points,u=s[s.length-1];return u[0]=r-l,u[1]=o-c,i.shape=null,void e.setState({})}if(!n&&"selection"===e.state.elementType){if(1===oe(Hn).length){var d=X(Hn,{x:r,y:o},e.state.zoom);if(d&&d.resizeHandle)return void(document.documentElement.style.cursor=V(d))}var p=dt(Hn,r,o,e.state.zoom);document.documentElement.style.cursor=p?"move":""}}},onDrop:function(t){var n=t.dataTransfer.files[0];"application/json"===(null===n||void 0===n?void 0:n.type)&&Qe(n).then((function(t){var n=t.elements,a=t.appState;return e.syncActionResult({elements:n,appState:a})})).catch((function(e){return console.error(e)}))}},je("labels.drawingCanvas"))))}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t){var n=function(e,t,n){for(var r=null,o=e.length-1;o>=0;--o){var i=F(e[o]),l=Object(a.a)(i,4),c=l[0],s=l[1],u=l[2],d=l[3];if(c<t&&t<u&&s<n&&n<d){r=e[o];break}}return r}(Hn,e,t);if(n){var r=n.x+n.width/2,o=n.y+n.height/2;if(Math.hypot(e-r,t-o)<30)return{wysiwygX:this.state.scrollX+n.x+n.width/2,wysiwygY:this.state.scrollY+n.y+n.height/2,elementCenterX:r,elementCenterY:o}}}},{key:"componentDidUpdate",value:function(){var e=!ve(Hn,this.state.selectionElement,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom})&&Hn.length>0;this.state.scrolledOutside!==e&&this.setState({scrolledOutside:e}),this.saveDebounced(),Dn.isRecording()&&(Dn.pushEntry(this.state,Hn),Dn.skipRecording())}}]),t}(g.a.Component),ta=document.getElementById("root"),na=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={hasError:!1,stack:"",localStorage:""},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"selectTextArea",value:function(e){e.target.select()}},{key:"createGithubIssue",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,n.e(3).then(n.bind(null,50));case 4:"string"===typeof(a=e.sent.default)&&(t=encodeURIComponent(a)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:window.open("https://github.com/excalidraw/excalidraw/issues/new?body=".concat(t));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.hasError?g.a.createElement("div",{className:"ErrorSplash"},g.a.createElement("div",{className:"ErrorSplash-messageContainer"},g.a.createElement("div",{className:"ErrorSplash-paragraph bigger"},"Encountered an error. Please"," ",g.a.createElement("button",{onClick:function(){return window.location.reload()}},"reload the page"),"."),g.a.createElement("div",{className:"ErrorSplash-paragraph"},"If reloading doesn't work. Try"," ",g.a.createElement("button",{onClick:function(){localStorage.clear(),window.location.reload()}},"clearing the canvas"),".",g.a.createElement("br",null),g.a.createElement("div",{className:"smaller"},"(This will unfortunately result in loss of work.)")),g.a.createElement("div",null,g.a.createElement("div",{className:"ErrorSplash-paragraph"},"Before doing so, we'd appreciate if you opened an issue on our"," ",g.a.createElement("button",{onClick:this.createGithubIssue},"bug tracker"),". Please include the following error stack trace & localStorage content (provided it's not private):"),g.a.createElement("div",{className:"ErrorSplash-paragraph"},g.a.createElement("div",{className:"ErrorSplash-details"},g.a.createElement("label",null,"Error stack trace:"),g.a.createElement("textarea",{rows:10,onClick:this.selectTextArea,defaultValue:this.state.stack}),g.a.createElement("label",null,"LocalStorage content:"),g.a.createElement("textarea",{rows:5,onClick:this.selectTextArea,defaultValue:this.state.localStorage})))))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.error(e),{hasError:!0,localStorage:JSON.stringify(Object(f.a)({},localStorage)),stack:e.stack}}}]),t}(g.a.Component);y.a.render(g.a.createElement(na,null,g.a.createElement(ea,null)),ta)}]),[[24,1,2]]]);
//# sourceMappingURL=main.e463b963.chunk.js.map